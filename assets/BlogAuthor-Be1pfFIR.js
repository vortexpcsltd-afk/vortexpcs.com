import{r as i,j as e}from"./three-DYdjUtCm.js";import{u as S,f as A,l as D,C as N,B as M}from"./index-C09NoPC0.js";import{S as g}from"./skeleton-B_A9_DIG.js";import{P as E,a as L,b as u,c as R,d as B,e as I}from"./pagination-CyNKhN4t.js";import"./contentful-6-L6ww-u.js";import"./firebase-D5dyMTPx.js";function T(n){return n.split("-").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}function O({authorSlug:n}){const r=i.useMemo(()=>T(n),[n]),[a,v]=i.useState(null),[o,p]=i.useState(!0),[f,k]=i.useState(null),[c,d]=i.useState(1),[m]=i.useState(9),w=S();i.useEffect(()=>{let t=!0;return(async()=>{try{p(!0);const s=await A({page:c,pageSize:m,authorName:r});if(!t)return;v(s)}catch(s){D.error("Failed to load author posts",s),k("Failed to load posts")}finally{p(!1)}})(),()=>{t=!1}},[c,m,r]);const b=(a==null?void 0:a.items)||[],P=(a==null?void 0:a.total)||0,x=Math.max(1,Math.ceil(P/((a==null?void 0:a.pageSize)||m))),h="category:",j=t=>t.toLowerCase().startsWith(h)?t.slice(h.length).trim():t,y=t=>{if(!t||t.length===0)return null;const s=t.find(l=>l.toLowerCase().startsWith(h));return j(s||t[0])};return e.jsx("div",{className:"container mx-auto px-4 md:px-6 lg:px-8",children:e.jsxs("section",{className:"py-10 md:py-16",children:[e.jsxs("header",{className:"mb-8 md:mb-10 text-center",children:[e.jsx("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-sky-500/10 border border-sky-500/30 text-sky-400 text-xs uppercase tracking-wider",children:"Author"}),e.jsxs("h1",{className:"mt-4 text-3xl md:text-4xl font-bold",children:["Posts by ",r]}),e.jsxs("p",{className:"mt-3 text-gray-300 max-w-2xl mx-auto",children:["Articles written by ",r,"."]})]}),o&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((t,s)=>e.jsxs(N,{className:"bg-white/5 backdrop-blur-xl border-white/10 p-4",children:[e.jsx(g,{className:"w-full h-40 rounded-lg mb-4"}),e.jsx(g,{className:"w-3/4 h-6 mb-2"}),e.jsx(g,{className:"w-1/2 h-4"})]},s))}),!o&&f&&e.jsx("div",{className:"text-center text-red-400",children:f}),!o&&b&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(t=>e.jsxs(N,{className:"group bg-white/5 backdrop-blur-xl border-white/10 hover:border-sky-500/30 transition-all duration-300 overflow-hidden",children:[t.heroImage&&e.jsxs("div",{className:"relative h-44 overflow-hidden",children:[e.jsx("img",{src:t.heroImage,alt:t.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500",loading:"lazy",decoding:"async"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"}),y(t.tags)&&e.jsx("span",{className:"absolute top-2 left-2 text-[10px] px-2 py-1 rounded-full bg-sky-500/20 border border-sky-500/40 text-sky-300 backdrop-blur-md",children:y(t.tags)})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 group-hover:text-sky-400 transition-colors",children:t.title}),t.excerpt&&e.jsx("p",{className:"text-gray-300 text-sm line-clamp-3 mb-4",children:t.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[e.jsx("span",{children:t.publishedDate?new Date(t.publishedDate).toLocaleDateString():""}),e.jsx("span",{children:t.readingTimeMinutes?`${t.readingTimeMinutes} min read`:""})]}),e.jsx("div",{className:"mt-4",children:e.jsx(M,{onClick:()=>w(`/blog/${t.slug}`),className:"bg-gradient-to-r from-sky-600 to-blue-600 hover:from-sky-500 hover:to-blue-500",children:"Read more"})})]})]},t.id))}),!o&&x>1&&e.jsx("div",{className:"mt-8",children:e.jsx(E,{children:e.jsxs(L,{children:[e.jsx(u,{children:e.jsx(R,{href:"#",onClick:t=>{t.preventDefault(),d(s=>Math.max(1,s-1))},className:"text-gray-300 hover:text-white"})}),Array.from({length:x}).slice(0,6).map((t,s)=>{const l=s+1;return e.jsx(u,{children:e.jsx(B,{href:"#",isActive:l===c,onClick:C=>{C.preventDefault(),d(l)},className:"text-gray-300 hover:text-white",children:l})},l)}),e.jsx(u,{children:e.jsx(I,{href:"#",onClick:t=>{t.preventDefault(),d(s=>Math.min(x,s+1))},className:"text-gray-300 hover:text-white"})})]})})})]})})}export{O as BlogAuthor,O as default};
