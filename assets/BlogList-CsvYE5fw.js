import{r as a,j as t}from"./three-DYdjUtCm.js";import{u as E,f as B,l as I,B as d,C}from"./index-C09NoPC0.js";import{S as y}from"./skeleton-B_A9_DIG.js";import{P as R,a as z,b as j,c as F,d as W,e as _}from"./pagination-CyNKhN4t.js";import"./contentful-6-L6ww-u.js";import"./firebase-D5dyMTPx.js";function Y(){const[l,P]=a.useState(null),[m,N]=a.useState(!0),[w,S]=a.useState(null),[u,i]=a.useState(1),[f]=a.useState(9),[o,b]=a.useState(null),[n,p]=a.useState(null),A=E(),x="category:",h=e=>e.toLowerCase().startsWith(x)?e.slice(x.length).trim():e,k=e=>{if(!e||e.length===0)return null;const r=e.find(s=>s.toLowerCase().startsWith(x));return h(r||e[0])};a.useEffect(()=>{let e=!0;return(async()=>{try{N(!0);const s=await B({page:u,pageSize:f,tag:o||n||void 0});if(!e)return;P(s)}catch(r){I.error("Failed to load blog posts",r),S("Failed to load posts")}finally{N(!1)}})(),()=>{e=!1}},[u,f,o,n]);const c=a.useMemo(()=>(l==null?void 0:l.items)||[],[l]),M=(l==null?void 0:l.total)||0,v=Math.max(1,Math.ceil(M/((l==null?void 0:l.pageSize)||f))),D=a.useMemo(()=>Array.from(new Set(c.flatMap(e=>e.tags||[]))),[c]),L=a.useMemo(()=>{const e=c.map(r=>{const s=r.tags||[],g=s.find(T=>T.toLowerCase().startsWith(x));return g?h(g):s.length?h(s[0]):null}).filter(r=>!!r);return Array.from(new Set(e))},[c]);return t.jsx("div",{className:"container mx-auto px-4 md:px-6 lg:px-8",children:t.jsxs("section",{className:"py-10 md:py-16",children:[t.jsxs("header",{className:"mb-8 md:mb-10 text-center",children:[t.jsx("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-sky-500/10 border border-sky-500/30 text-sky-400 text-xs uppercase tracking-wider",children:"Insights & Guides"}),t.jsx("h1",{className:"mt-4 text-3xl md:text-4xl font-bold",children:"Vortex PCs Blog"}),t.jsx("p",{className:"mt-3 text-gray-300 max-w-2xl mx-auto",children:"Hardware insights, buying guides, and step-by-step tutorials from our build team."})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[t.jsx("span",{className:"text-gray-400 text-sm",children:"Categories:"}),t.jsx(d,{variant:n?"outline":"default",className:n?"border-white/20 text-gray-300 hover:bg-white/10":"bg-gradient-to-r from-sky-600 to-blue-600 hover:from-sky-500 hover:to-blue-500",onClick:()=>{p(null),i(1)},children:"All"}),L.map(e=>t.jsx(d,{variant:n===e?"default":"outline",className:n===e?"bg-gradient-to-r from-sky-600 to-blue-600 hover:from-sky-500 hover:to-blue-500":"border-white/20 text-gray-300 hover:bg-white/10",onClick:()=>{p(e),b(null),i(1)},children:e},e))]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-6",children:[t.jsx("span",{className:"text-gray-400 text-sm",children:"Tags:"}),t.jsx(d,{variant:o?"outline":"default",className:o?"border-white/20 text-gray-300 hover:bg-white/10":"bg-gradient-to-r from-sky-600 to-blue-600 hover:from-sky-500 hover:to-blue-500",onClick:()=>{b(null),i(1)},children:"All"}),D.map(e=>t.jsxs(d,{variant:o===e?"default":"outline",className:o===e?"bg-gradient-to-r from-sky-600 to-blue-600 hover:from-sky-500 hover:to-blue-500":"border-white/20 text-gray-300 hover:bg-white/10",onClick:()=>{b(e),p(null),i(1)},children:["#",e]},e))]}),m&&t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((e,r)=>t.jsxs(C,{className:"bg-white/5 backdrop-blur-xl border-white/10 p-4",children:[t.jsx(y,{className:"w-full h-40 rounded-lg mb-4"}),t.jsx(y,{className:"w-3/4 h-6 mb-2"}),t.jsx(y,{className:"w-1/2 h-4"})]},r))}),!m&&w&&t.jsx("div",{className:"text-center text-red-400",children:w}),!m&&c&&t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(e=>t.jsxs(C,{className:"group bg-white/5 backdrop-blur-xl border-white/10 hover:border-sky-500/30 transition-all duration-300 overflow-hidden",children:[e.heroImage&&t.jsxs("div",{className:"relative h-44 overflow-hidden",children:[t.jsx("img",{src:e.heroImage,alt:e.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500",loading:"lazy",decoding:"async"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"}),k(e.tags)&&t.jsx("span",{className:"absolute top-2 left-2 text-[10px] px-2 py-1 rounded-full bg-sky-500/20 border border-sky-500/40 text-sky-300 backdrop-blur-md",children:k(e.tags)})]}),t.jsxs("div",{className:"p-5",children:[t.jsx("h3",{className:"text-lg font-semibold mb-2 group-hover:text-sky-400 transition-colors",children:e.title}),e.excerpt&&t.jsx("p",{className:"text-gray-300 text-sm line-clamp-3 mb-4",children:e.excerpt}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[t.jsx("span",{children:e.publishedDate?new Date(e.publishedDate).toLocaleDateString():""}),t.jsx("span",{children:e.readingTimeMinutes?`${e.readingTimeMinutes} min read`:""})]}),t.jsx("div",{className:"mt-4",children:t.jsx(d,{onClick:()=>A(`/blog/${e.slug}`),className:"bg-gradient-to-r from-sky-600 to-blue-600 hover:from-sky-500 hover:to-blue-500",children:"Read more"})})]})]},e.id))}),!m&&v>1&&t.jsx("div",{className:"mt-8",children:t.jsx(R,{children:t.jsxs(z,{children:[t.jsx(j,{children:t.jsx(F,{href:"#",onClick:e=>{e.preventDefault(),i(r=>Math.max(1,r-1))},className:"text-gray-300 hover:text-white"})}),Array.from({length:v}).slice(0,6).map((e,r)=>{const s=r+1;return t.jsx(j,{children:t.jsx(W,{href:"#",isActive:s===u,onClick:g=>{g.preventDefault(),i(s)},className:"text-gray-300 hover:text-white",children:s})},s)}),t.jsx(j,{children:t.jsx(_,{href:"#",onClick:e=>{e.preventDefault(),i(r=>Math.min(v,r+1))},className:"text-gray-300 hover:text-white"})})]})})})]})})}export{Y as BlogList,Y as default};
