import{r as p,j as e}from"./three-DYdjUtCm.js";import{e as ke,aw as ne,aj as Ce,Y as Pe,R as de,ax as Se,W as M,_ as Y,ay as Re,$ as z,V as Ae,a0 as De,a1 as Ee,c as ce,l as j,w as V,at as _,B as E,az as H,P as Fe,as as L,n as Q,o as G,C as S,aA as Ie,a6 as ee,a3 as T,a5 as Te,G as xe,aB as Be,L as b,I as k,r as se,s as A,v as D,S as te,i as re,j as ae,k as ie,m as $,a4 as oe,ar as Ue,t as _e}from"./index-C09NoPC0.js";import{T as $e}from"./textarea-D-68KDl_.js";import{C as le}from"./checkbox-DXTpAKAu.js";import"./react-stripe.esm-C-xIBnmr.js";import{K as Le}from"./key-Cp6N6-Eb.js";import"./contentful-6-L6ww-u.js";import"./firebase-D5dyMTPx.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=ke("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var Z="Radio",[Me,me]=de(Z),[We,qe]=Me(Z),he=p.forwardRef((h,t)=>{const{__scopeRadio:x,name:r,checked:d=!1,required:c,disabled:i,value:o="on",onCheck:u,form:n,...y}=h,[w,v]=p.useState(null),m=Y(t,N=>v(N)),f=p.useRef(!1),C=w?n||!!w.closest("form"):!0;return e.jsxs(We,{scope:x,checked:d,disabled:i,children:[e.jsx(M.button,{type:"button",role:"radio","aria-checked":d,"data-state":ge(d),"data-disabled":i?"":void 0,disabled:i,value:o,...y,ref:m,onClick:z(h.onClick,N=>{d||u==null||u(),C&&(f.current=N.isPropagationStopped(),f.current||N.stopPropagation())})}),C&&e.jsx(be,{control:w,bubbles:!f.current,name:r,value:o,checked:d,required:c,disabled:i,form:n,style:{transform:"translateX(-100%)"}})]})});he.displayName=Z;var ue="RadioIndicator",pe=p.forwardRef((h,t)=>{const{__scopeRadio:x,forceMount:r,...d}=h,c=qe(ue,x);return e.jsx(Ae,{present:r||c.checked,children:e.jsx(M.span,{"data-state":ge(c.checked),"data-disabled":c.disabled?"":void 0,...d,ref:t})})});pe.displayName=ue;var Ke="RadioBubbleInput",be=p.forwardRef(({__scopeRadio:h,control:t,checked:x,bubbles:r=!0,...d},c)=>{const i=p.useRef(null),o=Y(i,c),u=De(x),n=Ee(t);return p.useEffect(()=>{const y=i.current;if(!y)return;const w=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(w,"checked").set;if(u!==x&&m){const f=new Event("click",{bubbles:r});m.call(y,x),y.dispatchEvent(f)}},[u,x,r]),e.jsx(M.input,{type:"radio","aria-hidden":!0,defaultChecked:x,...d,tabIndex:-1,ref:o,style:{...d.style,...n,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});be.displayName=Ke;function ge(h){return h?"checked":"unchecked"}var Oe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],W="RadioGroup",[ze]=de(W,[ne,me]),ye=ne(),fe=me(),[Ve,He]=ze(W),we=p.forwardRef((h,t)=>{const{__scopeRadioGroup:x,name:r,defaultValue:d,value:c,required:i=!1,disabled:o=!1,orientation:u,dir:n,loop:y=!0,onValueChange:w,...v}=h,m=ye(x),f=Ce(n),[C,N]=Pe({prop:c,defaultProp:d??null,onChange:w,caller:W});return e.jsx(Ve,{scope:x,name:r,required:i,disabled:o,value:C,onValueChange:N,children:e.jsx(Se,{asChild:!0,...m,orientation:u,dir:f,loop:y,children:e.jsx(M.div,{role:"radiogroup","aria-required":i,"aria-orientation":u,"data-disabled":o?"":void 0,dir:f,...v,ref:t})})})});we.displayName=W;var je="RadioGroupItem",ve=p.forwardRef((h,t)=>{const{__scopeRadioGroup:x,disabled:r,...d}=h,c=He(je,x),i=c.disabled||r,o=ye(x),u=fe(x),n=p.useRef(null),y=Y(t,n),w=c.value===d.value,v=p.useRef(!1);return p.useEffect(()=>{const m=C=>{Oe.includes(C.key)&&(v.current=!0)},f=()=>v.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",f),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",f)}},[]),e.jsx(Re,{asChild:!0,...o,focusable:!i,active:w,children:e.jsx(he,{disabled:i,required:c.required,checked:w,...u,...d,name:c.name,ref:y,onCheck:()=>c.onValueChange(d.value),onKeyDown:z(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:z(d.onFocus,()=>{var m;v.current&&((m=n.current)==null||m.click())})})})});ve.displayName=je;var Ye="RadioGroupIndicator",Ne=p.forwardRef((h,t)=>{const{__scopeRadioGroup:x,...r}=h,d=fe(x);return e.jsx(pe,{...d,...r,ref:t})});Ne.displayName=Ye;var Ze=we,Xe=ve,Je=Ne;function Qe({className:h,...t}){return e.jsx(Ze,{"data-slot":"radio-group",className:ce("grid gap-3",h),...t})}function K({className:h,...t}){return e.jsx(Xe,{"data-slot":"radio-group-item",className:ce("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",h),...t,children:e.jsx(Je,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:e.jsx(Ge,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}let O="",R="";async function es(h){const t=(h||"").trim();if(!t)return[];R="";try{const i=await fetch(`/api/address/find?postcode=${encodeURIComponent(t)}`);if(i.ok){const o=await i.json();if(Array.isArray(o.addresses)&&o.addresses.length>0)return O="backend proxy (same-origin)",o.addresses;Array.isArray(o.addresses)&&o.addresses.length}else R=`backend same-origin ${i.status}`}catch{}const x=typeof window<"u"?window.location.origin:"";if(x)try{const o=`${x.replace(/\/$/,"")}/api/address/find?postcode=${encodeURIComponent(t)}`,u=await fetch(o);if(u.ok){const n=await u.json();if(Array.isArray(n.addresses)&&n.addresses.length>0)return O="backend proxy",n.addresses;Array.isArray(n.addresses)&&n.addresses.length}else R=`backend ${u.status}`}catch{R||(R="backend unreachable")}const r=t.replace(/\s+/g,"").toUpperCase(),c=await(await fetch(`https://api.postcodes.io/postcodes/${encodeURIComponent(r)}`)).json();if(c.status===200&&c.result){const i=c.result,o=i.parish||i.admin_ward||"Main Street",u=i.admin_district||"",n=i.region||"",y=t.toUpperCase(),w=[`1 ${o}, ${u}, ${n}, ${y}`.replace(/,\s*,/g,", "),`2 ${o}, ${u}, ${n}, ${y}`.replace(/,\s*,/g,", "),`Flat A, 3 ${o}, ${u}, ${y}`.replace(/,\s*,/g,", "),`Unit 4, ${i.admin_ward||i.parish||"High Street"}, ${u}, ${y}`.replace(/,\s*,/g,", ")];return O="postcodes.io (fallback)",R||(R="fallback synthetic"),w}return[]}function ss(h){return e.jsxs(A,{className:"bg-red-500/10 border-red-500/30 text-red-400",children:[e.jsx(_e,{className:"h-4 w-4"}),e.jsx(D,{children:"Payment processing is not configured. Please contact support."})]})}function ts(h){const{bookingStep:t,setBookingStep:x,bookingData:r,setBookingData:d,postcode:c,setPostcode:i,foundAddresses:o,setFoundAddresses:u,selectedAddress:n,setSelectedAddress:y,showManualEntry:w,setShowManualEntry:v,isLoadingAddresses:m,postcodeError:f,setPostcodeError:C,manualAddress:N,setManualAddress:P,handlePostcodeLookup:F,onNavigate:X}=h,I=["Issue Details","Collection Method","Customer Information","Payment","Confirmation"],B=(t+1)/I.length*100,U=(()=>{switch(r.urgency){case"standard":return 29.99;case"express":return 39.99;case"sameday":return 49.99;default:return 29.99}})(),a=U;return e.jsxs(S,{className:"bg-white/5 border-white/10 backdrop-blur-xl p-6 md:p-8 hover:border-sky-500/30 transition-all duration-300",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mb-3",children:[e.jsxs("span",{children:["Step ",t+1," of ",I.length]}),e.jsxs("span",{className:"font-semibold",children:[Math.round(B),"% Complete"]})]}),e.jsx(Be,{value:B,className:"h-2 mb-4 bg-white/10"}),e.jsx("h3",{className:"text-2xl font-bold text-white",children:I[t]})]}),t===0&&e.jsxs("div",{className:"space-y-6",children:[null,e.jsxs("div",{children:[e.jsx(b,{className:"text-white mb-3 block",children:"What type of issue are you experiencing? (Select all that apply)"}),e.jsx("div",{className:"space-y-3",children:["PC won't turn on","Performance issues/slow speeds","Graphics/display problems","Overheating issues","Strange noises","Blue screen errors","Internet/connectivity issues","Other hardware issue"].map(s=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border border-white/10 hover:border-white/20 hover:bg-white/5 transition-all",children:[e.jsx(le,{id:s,checked:r.issueTypes.includes(s),onCheckedChange:l=>{d(l?g=>({...g,issueTypes:[...g.issueTypes,s]}):g=>({...g,issueTypes:g.issueTypes.filter(J=>J!==s)}))}}),e.jsx(b,{htmlFor:s,className:"text-white cursor-pointer flex-1",children:s})]},s))}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Tip: selecting applicable issues helps us diagnose faster."})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"description",className:"text-white",children:"Describe the issue in detail"}),e.jsx($e,{id:"description",value:r.description,onChange:s=>d(l=>({...l,description:s.target.value})),placeholder:"Please provide as much detail as possible about the problem...",className:"bg-white/5 border-white/10 text-white mt-2",rows:4}),r.description.trim().length<10&&e.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Please provide a brief description (minimum 10 characters)."})]}),e.jsxs("div",{children:[e.jsx(b,{className:"text-white mb-3 block",children:"Select collection & repair service"}),e.jsxs(Qe,{value:r.urgency,onValueChange:s=>d(l=>({...l,urgency:s})),className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border border-white/10 hover:border-white/20 hover:bg-white/5 transition-all",children:[e.jsx(K,{value:"standard",id:"standard"}),e.jsxs(b,{htmlFor:"standard",className:"text-white cursor-pointer flex-1",children:[e.jsx("div",{children:"Standard (3-5 days) - £29.99"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Includes collection and return delivery"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border border-white/10 hover:border-white/20 hover:bg-white/5 transition-all",children:[e.jsx(K,{value:"express",id:"express"}),e.jsxs(b,{htmlFor:"express",className:"text-white cursor-pointer flex-1",children:[e.jsx("div",{children:"Express (1-2 days) - £39.99"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Priority service with expedited collection"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border border-white/10 hover:border-white/20 hover:bg-white/5 transition-all",children:[e.jsx(K,{value:"sameday",id:"sameday"}),e.jsxs(b,{htmlFor:"sameday",className:"text-white cursor-pointer flex-1",children:[e.jsx("div",{children:"Same Day Service - £49.99"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Book before 12pm for same day collection via DPD"})]})]})]}),!r.urgency&&e.jsx("p",{className:"text-xs text-red-400 mt-2",children:"Please choose a service speed."})]})]}),t===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(b,{className:"text-white mb-3 block",children:"Collection service details"}),e.jsx("div",{className:"p-4 rounded-lg border border-blue-500/30 bg-blue-500/10",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(L,{className:"w-5 h-5 text-blue-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-white mb-1",children:"UK-Wide Collection & Return Service"}),e.jsx("div",{className:"text-sm text-gray-400",children:"We'll collect your PC from your address at a convenient time and return it when the repair is complete. Collection prices start from £29.99. Available across the entire UK."})]})]})})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"postcode",className:"text-white",children:"Enter your postcode"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(k,{id:"postcode",value:c,onChange:s=>{i(s.target.value),f&&C("")},placeholder:"e.g. SW1A 1AA",className:"bg-white/5 border-white/10 text-white flex-1",onKeyDown:s=>{s.key==="Enter"&&(s.preventDefault(),F())},disabled:m}),e.jsx(E,{type:"button",onClick:s=>{s.preventDefault(),s.stopPropagation(),j.debug("Button clicked"),j.debug("Find Address button clicked",{postcode:c}),j.debug("Loading state",{isLoadingAddresses:m}),j.debug("About to call handlePostcodeLookup"),F(),j.debug("handlePostcodeLookup called")},className:"bg-blue-600 hover:bg-blue-500",disabled:m||c.trim().length===0,children:m?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"w-4 h-4 mr-2 animate-spin"}),"Looking up..."]}):"Find Address"})]}),f&&e.jsx("p",{className:"text-sm text-red-400 mt-2",children:f}),o.length>0&&!f&&e.jsxs("div",{className:"mt-3 space-y-3",children:[e.jsxs(A,{className:"border-green-500/30 bg-green-500/10",children:[e.jsx(T,{className:"w-4 h-4 text-green-400"}),e.jsxs(D,{className:"text-green-200 text-sm",children:["Coverage confirmed for"," ",e.jsx("strong",{children:c.toUpperCase()}),". We found"," ",o.length," address",o.length>1?"es":"",". Select your exact address below."]})]}),e.jsxs("div",{children:[e.jsx(b,{className:"text-white",children:"Select your address"}),e.jsxs(te,{value:n,onValueChange:s=>{y(s),v(s==="manual")},children:[e.jsx(re,{className:"bg-white/5 border-white/10 text-white mt-2",children:e.jsx(ae,{placeholder:"Choose your address"})}),e.jsxs(ie,{className:"bg-slate-800 border-white/10",children:[o.map((s,l)=>e.jsx($,{value:s,className:"text-white focus:bg-white/10",children:s},l)),e.jsx($,{value:"manual",className:"text-blue-400 focus:bg-white/10 font-medium",children:"Enter address manually"})]})]})]})]}),!f&&!m&&e.jsxs("div",{className:"mt-1 space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-400",children:"We'll verify if we cover your area"}),!1]})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"preferredDate",className:"text-white",children:"Preferred collection date"}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{id:"preferredDate",type:"date",value:r.preferredDate,onChange:s=>d(l=>({...l,preferredDate:s.target.value})),className:"bg-white/5 border-white/10 text-white mt-2 [color-scheme:dark]",min:(()=>{const s=new Date;let l=0;r.urgency==="standard"?l=3:r.urgency==="express"||r.urgency==="sameday"&&s.getHours()>=12?l=1:l=0;const g=new Date(s);return g.setDate(g.getDate()+l),g.toISOString().split("T")[0]})(),max:(()=>{if(r.urgency==="sameday"){const s=new Date;if(s.getHours()>=12){const g=new Date(s);return g.setDate(g.getDate()+1),g.toISOString().split("T")[0]}else return s.toISOString().split("T")[0]}})()}),e.jsx(H,{className:"absolute right-3 top-1/2 -translate-y-1/2 mt-1 w-4 h-4 text-white pointer-events-none"})]}),r.urgency==="sameday"&&new Date().getHours()>=12&&e.jsx("p",{className:"text-xs text-yellow-400 mt-2",children:"It's after 12pm - same day service is no longer available for today. Earliest collection: tomorrow."})]}),e.jsxs(A,{className:"border-yellow-500/30 bg-yellow-500/10",children:[e.jsx(oe,{className:"w-4 h-4 text-yellow-400"}),e.jsxs(D,{className:"text-yellow-200 text-sm",children:[e.jsx("strong",{children:"Important:"})," You'll need to provide your PC password in the next step. Without it, any repair work will be delayed until we receive full password access."]})]})]}),t===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(b,{htmlFor:"firstName",className:"text-white",children:"First Name"}),e.jsx(k,{id:"firstName",className:"bg-white/5 border-white/10 text-white mt-2",required:!0})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"lastName",className:"text-white",children:"Last Name"}),e.jsx(k,{id:"lastName",className:"bg-white/5 border-white/10 text-white mt-2",required:!0})]})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"email",className:"text-white",children:"Email Address"}),e.jsx(k,{id:"email",type:"email",className:"bg-white/5 border-white/10 text-white mt-2",required:!0})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"phone",className:"text-white",children:"Phone Number"}),e.jsx(k,{id:"phone",type:"tel",className:"bg-white/5 border-white/10 text-white mt-2",required:!0})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(b,{htmlFor:"collectionPostcode",className:"text-white",children:"Collection Address"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(k,{id:"collectionPostcode",value:c,onChange:s=>{i(s.target.value),u([]),y("")},placeholder:"Enter postcode",className:"bg-white/5 border-white/10 text-white flex-1",onKeyDown:s=>{s.key==="Enter"&&(s.preventDefault(),F())}}),e.jsx(E,{type:"button",onClick:s=>{s.preventDefault(),s.stopPropagation(),F()},className:"bg-blue-600 hover:bg-blue-500",disabled:m||c.trim().length===0,children:m?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"w-4 h-4 mr-2 animate-spin"}),"Looking up..."]}):"Find Address"})]})]}),o.length>0&&e.jsxs("div",{children:[e.jsx(b,{className:"text-white",children:"Select your address"}),e.jsxs(te,{value:n,onValueChange:y,children:[e.jsx(re,{className:"bg-white/5 border-white/10 text-white mt-2",children:e.jsx(ae,{placeholder:"Choose your address"})}),e.jsxs(ie,{className:"bg-slate-800 border-white/10",children:[o.map((s,l)=>e.jsx($,{value:s,className:"text-white focus:bg-white/10",children:s},l)),e.jsx($,{value:"manual",className:"text-blue-400 focus:bg-white/10 font-medium",children:"Enter address manually"})]})]})]}),(n==="manual"||w)&&e.jsxs("div",{className:"space-y-3 p-4 rounded-lg border border-white/10 bg-white/5",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Enter your address manually"}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"street",className:"text-white text-sm",children:"Street Address"}),e.jsx(k,{id:"street",value:N.street,onChange:s=>P(l=>({...l,street:s.target.value})),placeholder:"House number and street name",className:"bg-white/5 border-white/10 text-white mt-1",required:!0})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"city",className:"text-white text-sm",children:"Town/City"}),e.jsx(k,{id:"city",value:N.city,onChange:s=>P(l=>({...l,city:s.target.value})),placeholder:"Town or city",className:"bg-white/5 border-white/10 text-white mt-1",required:!0})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"county",className:"text-white text-sm",children:"County"}),e.jsx(k,{id:"county",value:N.county,onChange:s=>P(l=>({...l,county:s.target.value})),placeholder:"County",className:"bg-white/5 border-white/10 text-white mt-1"})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"manualPostcode",className:"text-white text-sm",children:"Postcode"}),e.jsx(k,{id:"manualPostcode",value:N.postcode||c,onChange:s=>P(l=>({...l,postcode:s.target.value})),placeholder:"Postcode",className:"bg-white/5 border-white/10 text-white mt-1",required:!0})]})]}),!n&&o.length===0&&!w&&e.jsx(E,{type:"button",variant:"outline",onClick:()=>v(!0),className:"w-full border-white/20 text-white hover:bg-white/10",children:"Enter address manually"}),n&&n!=="manual"&&e.jsxs(A,{className:"border-green-500/30 bg-green-500/10",children:[e.jsx(T,{className:"w-4 h-4 text-green-400"}),e.jsxs(D,{className:"text-green-200 text-sm",children:[e.jsx("strong",{children:"Address confirmed:"})," ",n]})]})]}),e.jsx(xe,{className:"border-white/10"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Le,{className:"w-4 h-4 text-blue-400"}),e.jsx(b,{htmlFor:"pcPassword",className:"text-white",children:"PC Password (Required)"})]}),e.jsx(k,{id:"pcPassword",type:"text",value:r.pcPassword,onChange:s=>d(l=>({...l,pcPassword:s.target.value})),className:"bg-white/5 border-white/10 text-white",placeholder:"Enter your Windows/Mac login password",required:!0}),e.jsxs(A,{className:"border-blue-500/30 bg-blue-500/10 mt-3",children:[e.jsx(oe,{className:"w-4 h-4 text-blue-400"}),e.jsxs(D,{className:"text-blue-200 text-sm",children:[e.jsx("strong",{children:"Why we need this:"})," Your password is required to carry out diagnostics, testing, and repairs on your system. Without full password access, repair work will be delayed until we can contact you. Your password is kept secure and confidential."]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(le,{id:"terms",required:!0}),e.jsxs(b,{htmlFor:"terms",className:"text-white text-sm",children:["I agree to the"," ",e.jsx("a",{href:`${window.location.origin}?view=terms`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 underline hover:text-blue-300",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:`${window.location.origin}?view=privacy`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 underline hover:text-blue-300",children:"Privacy Policy"})]})]})]}),t===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(S,{className:"bg-gradient-to-br from-sky-600/10 to-blue-600/10 border-sky-500/30 p-6",children:[e.jsxs("h4",{className:"font-bold text-white mb-4 text-lg flex items-center gap-2",children:[e.jsx(Ue,{className:"w-5 h-5"}),"Payment Details"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-white/10",children:[e.jsx("span",{className:"text-gray-400",children:"Service Type:"}),e.jsxs("span",{className:"text-white font-medium capitalize",children:[r.urgency==="standard"&&"Standard Collection (3-5 days)",r.urgency==="express"&&"Express Collection (1-2 days)",r.urgency==="sameday"&&"Same Day Collection"]})]}),e.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-white/10",children:[e.jsx("span",{className:"text-gray-400",children:"Collection Fee:"}),e.jsxs("span",{className:"text-white font-medium",children:["£",U.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2",children:[e.jsx("span",{className:"text-white font-bold text-lg",children:"Total:"}),e.jsxs("span",{className:"text-white font-bold text-lg",children:["£",a.toFixed(2)]})]})]})]}),e.jsxs(A,{className:"border-blue-500/30 bg-blue-500/10",children:[e.jsx(G,{className:"w-4 h-4 text-blue-400"}),e.jsxs(D,{className:"text-blue-200 text-sm",children:[e.jsx("p",{className:"mb-2",children:e.jsx("strong",{children:"Payment for collection service only"})}),e.jsx("p",{children:"This payment covers the collection and return of your PC. The repair cost will be assessed after diagnosis and quoted separately before any work begins."})]})]}),e.jsx(ss,{totalPrice:a,bookingData:r,onPaymentSuccess:()=>x(4)})]}),t===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center mx-auto mb-6 shadow-lg shadow-green-500/25",children:e.jsx(T,{className:"w-10 h-10 text-white"})}),e.jsx("h3",{className:"text-3xl font-bold text-white mb-3",children:"Booking Confirmed!"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Your repair service has been successfully booked and paid."})]}),e.jsxs(S,{className:"bg-gradient-to-br from-sky-600/10 to-blue-600/10 border-sky-500/30 p-6",children:[e.jsx("h4",{className:"font-bold text-white mb-4 text-lg",children:"Booking Summary"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-start pb-2 border-b border-white/10",children:[e.jsx("span",{className:"text-gray-400",children:"Issue Types:"}),e.jsx("span",{className:"text-white font-medium text-right max-w-xs",children:r.issueTypes.join(", ")||"Not specified"})]}),e.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-white/10",children:[e.jsx("span",{className:"text-gray-400",children:"Turnaround Time:"}),e.jsx("span",{className:"text-white font-medium capitalize",children:r.urgency})]}),e.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-white/10",children:[e.jsx("span",{className:"text-gray-400",children:"Service Type:"}),e.jsxs("span",{className:"text-white font-medium capitalize",children:[r.urgency," Collection & Return"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Booking Reference:"}),e.jsxs(V,{className:"bg-sky-500/20 border-sky-500/40 text-sky-300 font-mono",children:["VX-REP-",Math.random().toString(36).substr(2,9).toUpperCase()]})]})]})]}),e.jsxs(A,{className:"border-sky-500/30 bg-sky-500/10",children:[e.jsx(T,{className:"w-4 h-4 text-sky-400"}),e.jsxs(D,{className:"text-sky-200",children:[e.jsx("p",{className:"mb-2",children:e.jsx("strong",{children:"What happens next:"})}),e.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"You'll receive a confirmation email shortly with tracking details"}),e.jsx("li",{children:"Our team will contact you within 2 hours to confirm collection time"})]})]})]})]}),e.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-white/10",children:[e.jsx(E,{variant:"outline",onClick:()=>x(Math.max(0,t-1)),disabled:t===0||t===4,className:"bg-white/5 border-white/20 text-white hover:bg-white/10 hover:border-white/30 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),t!==3&&t!==4&&e.jsx(E,{onClick:()=>{t===0&&!(r.description.trim().length>=10&&r.urgency)||t<4&&x(t+1)},disabled:t===0&&!(r.description.trim().length>=10&&r.urgency),className:"bg-gradient-to-r from-sky-600 to-blue-600 hover:from-sky-500 hover:to-blue-500 text-white disabled:opacity-50 disabled:cursor-not-allowed disabled:from-sky-600 disabled:to-blue-600",children:t===2?"Review & Pay":"Next"})]})]})}function xs({onNavigate:h}){const t=p.useRef(null),[x,r]=p.useState(0),[d,c]=p.useState({issueTypes:[],description:"",urgency:"",collectionMethod:"",customerInfo:{},preferredDate:"",pcPassword:""}),[i,o]=p.useState(""),[u,n]=p.useState([]),[y,w]=p.useState(""),[v,m]=p.useState(!1),[f,C]=p.useState(!1),[N,P]=p.useState(""),[F,X]=p.useState({street:"",city:"",county:"",postcode:""}),I=[{title:"Hardware Diagnostics",description:"Complete system diagnosis to identify hardware issues",price:"Free",duration:"1-2 hours",icon:_},{title:"Component Replacement",description:"Replace faulty components with genuine parts",price:"From £50",duration:"2-5 days",icon:Ie},{title:"System Optimisation",description:"Performance tuning and software optimisation",price:"£99",duration:"1-2 days",icon:ee},{title:"Data Recovery",description:"Professional data recovery from damaged drives",price:"From £199",duration:"3-7 days",icon:G}],B=[{name:"Alex Thompson",location:"London",rating:5,comment:"Incredible service! They collected my PC, diagnosed the issue within hours, and had it back to me in perfect condition within 3 days.",repair:"Graphics card replacement"},{name:"Emma Wilson",location:"Manchester",rating:5,comment:"Professional team, excellent communication throughout the process. They even optimised my system beyond the original repair.",repair:"System optimisation"},{name:"James Parker",location:"Birmingham",rating:5,comment:"Thought my data was lost forever, but they recovered everything! Absolutely brilliant service.",repair:"Data recovery"}],q=[{step:1,title:"Book Collection",description:"Schedule a convenient time for us to collect your PC",icon:H},{step:2,title:"Free Diagnosis",description:"Our experts diagnose the issue within 24 hours",icon:_},{step:3,title:"Approval & Repair",description:"Get approval for repairs and we fix your PC",icon:T},{step:4,title:"Safe Return",description:"Your PC is returned fully tested and working",icon:L}],U=p.useCallback(async()=>{j.debug("handlePostcodeLookup called"),j.debug("Current postcode value",{postcode:i});const a=i.trim(),s=a.replace(/\s+/g,"").toUpperCase();if(j.debug("Trimmed postcode",{trimmedPostcode:a}),j.debug("Normalized no-space",{normalizedNoSpace:s}),!a){j.debug("Postcode is empty"),P("Please enter a postcode");return}if(!/^[A-Z]{1,2}\d{1,2}[A-Z]?\s*\d[A-Z]{2}$/i.test(a)){j.debug("Postcode failed regex validation"),P("Please enter a valid UK postcode format (e.g. SW1A 1AA)");return}j.debug("Postcode passed validation, starting lookup..."),C(!0),P(""),n([]),w("");try{j.debug("Looking up addresses via provider",{trimmedPostcode:a});const g=await es(a);g.length>0?(j.debug("Provider returned addresses",{count:g.length}),n(g),o(a.toUpperCase()),j.debug("Addresses set successfully")):(j.error("No addresses returned for postcode:",a),P("No addresses found for this postcode. Please check and try again or enter your address manually."),m(!0))}catch(g){j.error("Postcode lookup error:",g),P("Unable to look up postcode. Please enter your address manually."),m(!0)}finally{j.debug("Lookup complete, setting loading to false"),C(!1)}},[i]);return e.jsx("div",{className:"min-h-screen text-white",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("section",{className:"text-center mb-20",children:[e.jsxs(V,{className:"bg-sky-500/20 border-sky-500/40 text-sky-300 mb-6 px-4 py-1.5",children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),"UK-Wide PC Repair Service"]}),e.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-7xl font-black mb-6 bg-gradient-to-r from-white via-sky-200 to-cyan-400 bg-clip-text text-transparent leading-tight px-4",children:["Expert PC Repair",e.jsx("br",{}),e.jsx("span",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl",children:"Done Right"})]}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-300 mb-10 max-w-3xl mx-auto leading-relaxed px-4",children:"Professional PC repair services with UK-wide collection and return from £29.99. Expert diagnostics, genuine parts, and comprehensive warranty on all repairs."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-16",children:[e.jsxs(E,{onClick:()=>{var a;r(0),(a=t.current)==null||a.scrollIntoView({behavior:"smooth",block:"start"})},className:"bg-gradient-to-r from-sky-600 to-blue-600 hover:from-sky-500 hover:to-blue-500 text-white px-8 py-6 text-lg font-semibold transition-all duration-300 shadow-lg shadow-sky-500/25 hover:shadow-sky-500/40 hover:scale-105",children:[e.jsx(H,{className:"w-5 h-5 mr-2"}),"Book Repair Service"]}),e.jsxs(E,{variant:"outline",className:"bg-white/5 backdrop-blur-sm border-white/20 text-white hover:bg-white/10 hover:border-white/30 px-8 py-6 text-lg font-semibold transition-all duration-300",children:[e.jsx(Fe,{className:"w-5 h-5 mr-2"}),"Call: 01603 975440"]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6",children:[{icon:L,title:"UK-Wide Collection",desc:"From £29.99 inc. return"},{icon:Q,title:"Fast Turnaround",desc:"Same day service available"},{icon:G,title:"90-Day Warranty",desc:"All repairs guaranteed"},{icon:_,title:"Expert Technicians",desc:"Certified professionals"}].map((a,s)=>e.jsxs(S,{className:"bg-white/5 backdrop-blur-xl border-white/10 hover:border-sky-500/30 transition-all duration-300 p-6 text-center group",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-sky-500 to-blue-600 flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300",children:e.jsx(a.icon,{className:"w-7 h-7 text-white"})}),e.jsx("h3",{className:"font-bold text-white mb-2 text-sm md:text-base",children:a.title}),e.jsx("p",{className:"text-xs md:text-sm text-gray-400",children:a.desc})]},s))})]}),e.jsxs("section",{className:"mb-20",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-black mb-4 bg-gradient-to-r from-sky-400 to-cyan-300 bg-clip-text text-transparent px-4",children:"Our Repair Services"}),e.jsx("p",{className:"text-gray-400 text-base sm:text-lg max-w-2xl mx-auto px-4",children:"Comprehensive PC repair solutions for all your needs"})]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6",children:I.map((a,s)=>e.jsxs(S,{className:"bg-white/5 border-white/10 backdrop-blur-xl p-6 hover:bg-white/10 hover:border-sky-500/30 transition-all duration-300 group cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-sky-500 to-blue-600 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300",children:e.jsx(a.icon,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2 group-hover:text-sky-400 transition-colors",children:a.title}),e.jsx("p",{className:"text-sm text-gray-400 mb-4 leading-relaxed",children:a.description}),e.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-white/10",children:[e.jsx(V,{className:"bg-green-500/20 text-green-300 border-green-500/30 text-sm",children:a.price}),e.jsx("span",{className:"text-xs text-gray-500",children:a.duration})]})]},s))})]}),e.jsxs("section",{className:"mb-20",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-black mb-4 bg-gradient-to-r from-sky-400 to-cyan-300 bg-clip-text text-transparent px-4",children:"How It Works"}),e.jsx("p",{className:"text-gray-400 text-base sm:text-lg max-w-2xl mx-auto px-4",children:"Simple, transparent process for all repairs"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 md:gap-4",children:q.map((a,s)=>e.jsxs("div",{className:"relative",children:[e.jsxs(S,{className:"bg-white/5 backdrop-blur-xl border-white/10 hover:border-sky-500/30 transition-all duration-300 p-6 text-center h-full",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-sky-500 to-blue-600 flex items-center justify-center mx-auto mb-4 shadow-lg shadow-sky-500/25",children:e.jsx(a.icon,{className:"w-8 h-8 text-white"})}),e.jsx("div",{className:"absolute -top-3 -right-3 w-8 h-8 rounded-full bg-sky-500 text-white flex items-center justify-center font-bold text-sm shadow-lg",children:a.step}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:a.title}),e.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:a.description})]}),s<q.length-1&&e.jsx("div",{className:"hidden md:block absolute top-1/2 -right-2 transform -translate-y-1/2 z-10",children:e.jsx(Te,{className:"w-5 h-5 text-sky-500/50"})})]},s))})]}),e.jsxs("section",{className:"mb-20",ref:t,children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-black mb-4 bg-gradient-to-r from-sky-400 to-cyan-300 bg-clip-text text-transparent px-4",children:"Book Your Repair"}),e.jsx("p",{className:"text-gray-400 text-base sm:text-lg max-w-2xl mx-auto px-4",children:"Get started with your PC repair in just a few steps"})]}),e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsx(ts,{bookingStep:x,setBookingStep:r,bookingData:d,setBookingData:c,postcode:i,setPostcode:o,foundAddresses:u,setFoundAddresses:n,selectedAddress:y,setSelectedAddress:w,showManualEntry:v,setShowManualEntry:m,isLoadingAddresses:f,postcodeError:N,setPostcodeError:P,manualAddress:F,setManualAddress:X,handlePostcodeLookup:U,onNavigate:h})})]}),e.jsxs("section",{className:"mb-20",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-black mb-4 bg-gradient-to-r from-sky-400 to-cyan-300 bg-clip-text text-transparent px-4",children:"What Our Customers Say"}),e.jsx("p",{className:"text-gray-400 text-base sm:text-lg max-w-2xl mx-auto px-4",children:"Trusted by thousands across the UK"})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:B.map((a,s)=>e.jsxs(S,{className:"bg-white/5 border-white/10 backdrop-blur-xl p-6 hover:border-sky-500/30 transition-all duration-300",children:[e.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(a.rating)].map((l,g)=>e.jsx(ee,{className:"w-4 h-4 text-yellow-400 fill-current"},g))}),e.jsxs("p",{className:"text-gray-300 mb-4 text-sm leading-relaxed italic",children:['"',a.comment,'"']}),e.jsx(xe,{className:"mb-4 bg-white/10"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-sky-400 to-cyan-500 flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-black font-bold text-sm",children:a.name.charAt(0)})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-semibold text-white text-sm",children:a.name}),e.jsxs("p",{className:"text-xs text-gray-400",children:[a.location," • ",a.repair]})]})]})]},s))})]}),e.jsx("section",{className:"mb-20",children:e.jsxs(S,{className:"bg-gradient-to-br from-sky-950/30 to-blue-950/30 backdrop-blur-xl border border-sky-500/30 p-6 sm:p-8 md:p-12 hover:border-sky-400/50 transition-all duration-500 overflow-hidden relative",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsx("h3",{className:"text-2xl sm:text-3xl md:text-4xl font-black text-white mb-4 text-center",children:"UK-Wide Coverage"}),e.jsx("p",{className:"text-gray-300 text-base sm:text-lg mb-8 max-w-2xl mx-auto text-center px-4",children:"Professional PC repair and collection service available throughout England, Scotland, Wales, and Northern Ireland"}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 md:gap-8 mb-8",children:[e.jsx("div",{className:"relative order-2 md:order-1",children:e.jsxs("div",{className:"relative w-40 h-52 sm:w-48 sm:h-60 md:w-64 md:h-80 flex items-center justify-center mx-auto",children:[e.jsx("img",{src:"/uk-map-outline.png",alt:"UK Map",className:"w-full h-full object-contain",style:{filter:"brightness(0) saturate(100%) invert(70%) sepia(52%) saturate(2878%) hue-rotate(169deg) brightness(98%) contrast(101%)"}}),e.jsx("div",{className:"absolute inset-0 bg-sky-400/30 blur-2xl -z-10 scale-90"})]})}),e.jsxs("div",{className:"w-full md:w-auto text-left space-y-4 max-w-md order-1 md:order-2 px-4 md:px-0",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(L,{className:"w-5 h-5 sm:w-6 sm:h-6 text-sky-400 flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-white mb-1 text-sm sm:text-base",children:"Nationwide Collection"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-400",children:"Prices start from £29.99 for collection and delivery via DPD"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Q,{className:"w-5 h-5 sm:w-6 sm:h-6 text-sky-400 flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-white mb-1 text-sm sm:text-base",children:"Fast Service"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-400",children:"Standard, express, and same-day options available"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(G,{className:"w-5 h-5 sm:w-6 sm:h-6 text-sky-400 flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-white mb-1 text-sm sm:text-base",children:"Fully Insured"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-400",children:"Your PC is protected during transit and repair"})]})]})]})]}),e.jsxs("div",{className:"pt-6 border-t border-white/10",children:[e.jsx("p",{className:"text-sky-300 font-semibold mb-2",children:"Collection & Return from £29.99"}),e.jsx("p",{className:"text-sm text-gray-400",children:"We serve all UK postcodes. Book online or call 01603 975440 for a quote."})]})]}),e.jsx("div",{className:"absolute inset-0 opacity-5",children:e.jsxs("svg",{className:"w-full h-full",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("defs",{children:e.jsx("pattern",{id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:e.jsx("circle",{cx:"20",cy:"20",r:"1",fill:"currentColor",className:"text-sky-400"})})}),e.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})})]})})]})})})}export{xs as RepairService};
