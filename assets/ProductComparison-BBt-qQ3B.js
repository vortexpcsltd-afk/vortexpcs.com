import{r as A,j as e}from"./three-DYdjUtCm.js";import{C as j,B as h,T as L,X as g,w as N,x as f,y as _}from"./index-C09NoPC0.js";import{B as o,a as I,I as B}from"./contentful-6-L6ww-u.js";import{A as u}from"./PCBuilder-VoPDx3fR.js";import"./firebase-D5dyMTPx.js";import"./alert-dialog-BLh5rnsa.js";import"./ProductSchema-8wGf5f5J.js";import"./checkbox-DXTpAKAu.js";import"./laptop-minimal-qSollzZW.js";import"./share-2-cgNTc9il.js";import"./copy-C9jg9k1g.js";import"./minimize-2-Cpy4JEyB.js";const E=t=>{if(!t)return null;if(typeof t=="string")return t;const m={renderNode:{[o.PARAGRAPH]:(i,r)=>e.jsx("p",{className:"mb-4 last:mb-0",children:r}),[o.HEADING_1]:(i,r)=>e.jsx("h1",{className:"text-2xl font-bold mb-4",children:r}),[o.HEADING_2]:(i,r)=>e.jsx("h2",{className:"text-xl font-bold mb-3",children:r}),[o.HEADING_3]:(i,r)=>e.jsx("h3",{className:"text-lg font-bold mb-2",children:r}),[o.UL_LIST]:(i,r)=>e.jsx("ul",{className:"list-disc list-inside mb-4 space-y-1",children:r}),[o.OL_LIST]:(i,r)=>e.jsx("ol",{className:"list-decimal list-inside mb-4 space-y-1",children:r}),[o.LIST_ITEM]:(i,r)=>e.jsx("li",{className:"ml-4",children:r}),[B.HYPERLINK]:(i,r)=>e.jsx("a",{href:i.data.uri,target:"_blank",rel:"noopener noreferrer",className:"text-sky-400 hover:text-sky-300 underline",children:r})}};return I.documentToReactComponents(t,m)};function F({products:t,onRemove:m,onClear:i,onAddToCart:r,category:y}){const[b,w]=A.useState(!0);if(t.length===0)return null;const p=new Set;t.forEach(s=>{Object.keys(s).forEach(l=>{["id","name","price","category","description","mainProductDescription","images","features","supplierName","costPrice","profitMargin","profitAmount"].includes(l)||p.add(l)})});const v=Array.from(p).sort(),k=s=>s==null?"â€”":typeof s=="boolean"?s?"Yes":"No":Array.isArray(s)?s.join(", "):typeof s=="number"?s.toLocaleString():String(s),S=s=>s.replace(/([A-Z])/g," $1").replace(/^./,l=>l.toUpperCase()).trim(),C=(s,l)=>{const a=l[s];if(a==null)return!1;const n=["cores","threads","ramSlots","pciSlots","m2Slots","maxRam","vram","capacity","wattage","efficiency","readSpeed","writeSpeed","maxGpuLength","maxCpuCoolerHeight","stockLevel","rating"],d=["tdp","power","price","latency"],c=t.map(x=>x[s]).filter(x=>x!=null&&typeof x=="number");return c.length<2?!1:n.includes(s)&&typeof a=="number"?a===Math.max(...c):d.includes(s)&&typeof a=="number"?a===Math.min(...c):!1};return e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 overflow-auto",children:e.jsx("div",{className:"container mx-auto p-4 min-h-screen",children:e.jsxs(j,{className:"bg-gradient-to-br from-gray-900 via-black to-gray-900 border-sky-500/30 shadow-2xl",children:[e.jsx("div",{className:"p-6 border-b border-white/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[e.jsx(u,{className:"w-6 h-6 text-sky-400"}),"Compare ",y||"Products"]}),e.jsxs("p",{className:"text-gray-400 mt-1",children:["Side-by-side comparison of ",t.length," product",t.length!==1?"s":""]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(h,{onClick:i,variant:"outline",className:"border-red-500/30 text-red-400 hover:bg-red-500/10",children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"Clear All"]}),e.jsx(h,{onClick:i,variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:e.jsx(g,{className:"w-5 h-5"})})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:`grid gap-4 ${t.length===1?"grid-cols-1 max-w-md mx-auto":t.length===2?"grid-cols-2":"grid-cols-3"}`,children:t.map(s=>e.jsxs(j,{className:"bg-white/5 backdrop-blur-xl border-white/10 hover:border-sky-500/30 transition-all relative overflow-hidden",children:[e.jsx("button",{onClick:()=>m(s.id),className:"absolute top-2 right-2 z-10 p-1.5 rounded-full bg-black/50 hover:bg-red-500/20 border border-white/10 hover:border-red-500/50 transition-all group","aria-label":"Remove from comparison",children:e.jsx(g,{className:"w-4 h-4 text-white group-hover:text-red-400"})}),e.jsx("div",{className:"aspect-square bg-white/5 flex items-center justify-center p-4 border-b border-white/10",children:s.images&&s.images.length>0?e.jsx("img",{src:s.images[0],alt:s.name,className:"w-full h-full object-contain"}):e.jsx("div",{className:"text-gray-600 text-4xl",children:"ðŸ“¦"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-white text-lg mb-2 pr-8 line-clamp-2",children:s.name}),e.jsxs("div",{className:"text-3xl font-bold text-sky-400 mb-3",children:["Â£",s.price.toFixed(2)]}),s.inStock?e.jsxs(N,{className:"bg-green-500/20 border-green-500/40 text-green-400 mb-3",children:[e.jsx(f,{className:"w-3 h-3 mr-1"}),"In Stock",s.stockLevel&&s.stockLevel>0&&e.jsxs("span",{className:"ml-1",children:["(",s.stockLevel,")"]})]}):e.jsxs(N,{className:"bg-red-500/20 border-red-500/40 text-red-400 mb-3",children:[e.jsx(g,{className:"w-3 h-3 mr-1"}),"Out of Stock"]}),s.rating&&e.jsxs("div",{className:"flex items-center gap-1 mb-3",children:[[...Array(5)].map((l,a)=>e.jsx("span",{className:a<s.rating?"text-yellow-400":"text-gray-600",children:"â˜…"},a)),e.jsxs("span",{className:"text-sm text-gray-400 ml-1",children:["(",s.rating,"/5)"]})]}),r&&e.jsxs(h,{onClick:()=>r(s),disabled:!s.inStock,className:"w-full bg-gradient-to-r from-sky-600 to-blue-600 hover:from-sky-500 hover:to-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),"Add to Build"]})]})]},s.id))}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("button",{onClick:()=>w(!b),className:"flex items-center gap-2 text-white font-semibold text-lg mb-4 hover:text-sky-400 transition-colors",children:[e.jsx("span",{children:b?"â–¼":"â–¶"}),"Detailed Specifications"]}),b&&e.jsx("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-lg overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-white/5 border-b border-white/10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-4 text-gray-300 font-medium sticky left-0 bg-gray-900/90 backdrop-blur-xl z-10",children:"Specification"}),t.map(s=>e.jsx("th",{className:"text-left p-4 text-white font-medium min-w-[200px]",children:e.jsx("div",{className:"line-clamp-2 text-sm",children:s.name})},s.id))]})}),e.jsxs("tbody",{children:[v.map((s,l)=>t.some(n=>n[s]!==null&&n[s]!==void 0)?e.jsxs("tr",{className:`border-b border-white/5 ${l%2===0?"bg-white/5":""}`,children:[e.jsx("td",{className:"p-4 text-gray-300 font-medium sticky left-0 bg-gray-900/90 backdrop-blur-xl z-10",children:S(s)}),t.map(n=>{const d=n[s],c=C(s,n);return e.jsx("td",{className:`p-4 ${c?"text-green-400 font-semibold":d==null?"text-gray-600":"text-white"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[c&&e.jsx(f,{className:"w-4 h-4 text-green-400"}),k(d)]})},n.id)})]},s):null),t.some(s=>s.features&&s.features.length>0)&&e.jsxs("tr",{className:"border-b border-white/5 bg-white/5",children:[e.jsx("td",{className:"p-4 text-gray-300 font-medium sticky left-0 bg-gray-900/90 backdrop-blur-xl z-10",children:"Features"}),t.map(s=>e.jsx("td",{className:"p-4 align-top",children:s.features&&s.features.length>0?e.jsx("ul",{className:"text-sm text-gray-300 space-y-1",children:s.features.map((l,a)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(f,{className:"w-3 h-3 text-sky-400 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:l})]},a))}):e.jsx("span",{className:"text-gray-600",children:"â€”"})},s.id))]}),t.some(s=>s.description||s.mainProductDescription)&&e.jsxs("tr",{className:"border-b border-white/5",children:[e.jsx("td",{className:"p-4 text-gray-300 font-medium sticky left-0 bg-gray-900/90 backdrop-blur-xl z-10",children:"Description"}),t.map(s=>e.jsx("td",{className:"p-4 align-top",children:e.jsx("div",{className:"text-sm text-gray-400 line-clamp-4",children:E(s.mainProductDescription)||s.description||"â€”"})},s.id))]})]})]})})})]}),e.jsx("div",{className:"mt-6 p-4 bg-sky-500/10 border border-sky-500/30 rounded-lg",children:e.jsxs("p",{className:"text-sm text-sky-300",children:["ðŸ’¡ ",e.jsx("strong",{children:"Tip:"}),' Green highlighted values indicate the best specification in that category. Click "Add to Build" to select a product.']})})]})]})})})}function U({isSelected:t,onClick:m}){return e.jsxs(h,{onClick:m,variant:"outline",size:"sm",className:`${t?"bg-sky-500/20 border-sky-500/50 text-sky-400":"border-white/20 text-gray-300 hover:border-sky-500/30"} transition-all`,children:[e.jsx(u,{className:"w-3 h-3 mr-1"}),t?"Remove from Compare":"Compare"]})}export{U as CompareButton,F as ProductComparison};
