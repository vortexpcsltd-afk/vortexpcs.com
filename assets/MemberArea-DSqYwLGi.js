const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-C09NoPC0.js","assets/three-DYdjUtCm.js","assets/contentful-6-L6ww-u.js","assets/firebase-D5dyMTPx.js","assets/index-BtsQyA5c.css"])))=>i.map(i=>d[i]);
import{j as e,r as p,_ as is}from"./three-DYdjUtCm.js";import{e as K,c as ie,a6 as J,aX as ze,aY as ns,l as $,aZ as Je,C as m,B as o,I as Z,q as x,aA as B,Z as Ie,a_ as Ce,aS as $e,a$ as Q,aU as Y,aV as ee,as as Se,K as X,o as cs,b0 as os,r as ds,t as ms,w as f,b1 as V,b2 as G,b3 as q,b4 as H,aB as ne,b5 as xs,b6 as hs,b7 as z,aN as ps,g as se,b8 as us,b9 as I,d as ce,a3 as _e,n as oe,ba as We,bb as gs,L as D,bc as bs,bd as Pe,D as de,z as me,E as xe,F as he,J as pe,be as js,bf as ws,bg as ys,bh as fs,bi as Ns,bj as vs,bk as ks,A as Cs}from"./index-C09NoPC0.js";import{A as Ss,a as Ps}from"./avatar-BcE2GWxe.js";import{T as Te}from"./textarea-D-68KDl_.js";import{P as Ye,S as Xe,a as As,u as Ts,n as Ds}from"./storage-CDzUfK7n.js";import{S as De}from"./send-BGSUsxhY.js";import{S as Ve,A as Ae}from"./share-2-cgNTc9il.js";import{C as Fs}from"./copy-C9jg9k1g.js";import"./contentful-6-L6ww-u.js";import"./firebase-D5dyMTPx.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=K("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=K("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=K("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=K("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=K("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=K("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);function Ms({rating:n,maxRating:c=5,size:h="md",interactive:k=!1,onChange:C,showValue:L=!1,className:y}){const g={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"},R=(M,b)=>{if(!k||!C)return;const S=M+(b?.5:1);C(S)},u=(M,b)=>{};return e.jsxs("div",{className:ie("flex items-center gap-1",y),children:[e.jsx("div",{className:"flex items-center gap-0.5",children:Array.from({length:c}).map((M,b)=>{const S=b+1,a=n>=S,U=n>=S-.5&&n<S;return e.jsxs("div",{className:ie("relative",k&&"cursor-pointer group"),children:[e.jsx(J,{className:ie(g[h],"transition-all duration-200",a?"fill-yellow-400 text-yellow-400":"fill-transparent text-gray-600",k&&"group-hover:scale-110"),onClick:()=>R(b,!1),onMouseEnter:()=>u()}),U&&e.jsx("div",{className:"absolute inset-0 overflow-hidden",style:{width:"50%"},onClick:()=>R(b,!0),onMouseEnter:()=>u(),children:e.jsx(J,{className:ie(g[h],"fill-yellow-400 text-yellow-400 transition-all duration-200",k&&"group-hover:scale-110")})}),k&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0",style:{width:"50%"},onClick:()=>R(b,!0),onMouseEnter:()=>u()}),e.jsx("div",{className:"absolute inset-0 left-1/2",onClick:()=>R(b,!1),onMouseEnter:()=>u()})]})]},b)})}),L&&e.jsx("span",{className:"text-sm text-gray-300 ml-1",children:n.toFixed(1)})]})}const Es=async n=>{var c;try{if(!((c=ze)!=null&&c.currentUser))throw new Error("You must be logged in to submit a review");const k={"Content-Type":"application/json",Authorization:`Bearer ${await ze.currentUser.getIdToken()}`};try{const y=ns();y&&(k["X-CSRF-Token"]=y)}catch{}const C=await fetch("/api/reviews/submit",{method:"POST",headers:k,body:JSON.stringify(n)});if(!C.ok){let y="Failed to submit review";try{y=(await C.json()).error||y}catch{y=`Server error: ${C.status} ${C.statusText}`}throw new Error(y)}const L=await C.json();return $.info("Review submitted successfully",{reviewId:L.reviewId}),L}catch(h){throw $.error("Submit review error",h),h}};function Os({productId:n,productName:c,orderId:h,onSuccess:k,onCancel:C}){const{isAuthenticated:L,user:y}=Je(),[g,R]=p.useState(5),[u,M]=p.useState(""),[b,S]=p.useState(""),[a,U]=p.useState(!1),ue=async F=>{if(F.preventDefault(),!L||!y){x.error("Please log in to submit a review");return}if(g<.5||g>5){x.error("Please select a rating");return}if(u.length<3||u.length>100){x.error("Title must be between 3 and 100 characters");return}if(b.length<10||b.length>2e3){x.error("Review must be between 10 and 2000 characters");return}try{U(!0);const N={productId:n,productName:c,rating:g,title:u.trim(),comment:b.trim(),orderId:h};(await Es(N)).verified?x.success("Review submitted successfully! âœ“ Verified Purchase"):x.success("Review submitted successfully!"),R(5),M(""),S(""),k==null||k()}catch(N){$.error("Review submission error",N);const E=N instanceof Error?N.message:"Failed to submit review";x.error(E),(E.includes("auth")||E.includes("Firebase"))&&x.info("Firebase authentication is not configured. Please set up your Firebase credentials.")}finally{U(!1)}};return L?e.jsxs(m,{className:"bg-white/5 backdrop-blur-xl border-white/10 p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Write a Review"}),e.jsxs("form",{onSubmit:ue,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Your Rating *"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ms,{rating:g,size:"lg",interactive:!0,onChange:R}),e.jsxs("span",{className:"text-sm text-gray-400",children:[g.toFixed(1)," / 5.0"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"review-title",className:"block text-sm font-medium text-gray-300 mb-2",children:"Review Title *"}),e.jsx(Z,{id:"review-title",placeholder:"Sum up your experience in one sentence",value:u,onChange:F=>M(F.target.value),maxLength:100,className:"bg-white/5 border-white/10 focus:border-sky-500",required:!0}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[u.length,"/100 characters"]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"review-comment",className:"block text-sm font-medium text-gray-300 mb-2",children:"Your Review *"}),e.jsx(Te,{id:"review-comment",placeholder:"Tell us about your experience with this product...",value:b,onChange:F=>S(F.target.value),maxLength:2e3,rows:6,className:"bg-white/5 border-white/10 focus:border-sky-500 resize-none",required:!0}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[b.length,"/2000 characters (minimum 10)"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(o,{type:"submit",disabled:a,className:"bg-gradient-to-r from-sky-600 to-blue-600 hover:from-sky-500 hover:to-blue-500 flex-1",children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin mr-2"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(De,{className:"w-4 h-4 mr-2"}),"Submit Review"]})}),C&&e.jsx(o,{type:"button",variant:"outline",onClick:C,disabled:a,className:"bg-white/5 border-white/10 hover:bg-white/10",children:"Cancel"})]})]})]}):e.jsx(m,{className:"bg-white/5 backdrop-blur-xl border-white/10 p-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(J,{className:"w-12 h-12 mx-auto mb-4 text-sky-500"}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Write a Review"}),e.jsx("p",{className:"text-gray-400 mb-4",children:"Please log in to share your experience with this product"}),e.jsx(o,{className:"bg-gradient-to-r from-sky-600 to-blue-600 hover:from-sky-500 hover:to-blue-500",onClick:()=>{window.dispatchEvent(new CustomEvent("openLogin"))},children:"Log In to Review"})]})})}function Gs({onNavigate:n}){var Ee,Oe,Be,Ue;const{user:c,userProfile:h}=Je(),[k,C]=p.useState(!0),[L,y]=p.useState("dashboard"),[g,R]=p.useState([]),[u,M]=p.useState([]),[b,S]=p.useState([]),[a,U]=p.useState(null),[ue,F]=p.useState(!1),[N,E]=p.useState(null),[d,O]=p.useState(null),[Fe,te]=p.useState(""),[ae,Le]=p.useState([]),[Re,ge]=p.useState({}),[Ke,be]=p.useState(!1),[w,Qe]=p.useState(null),[es,je]=p.useState(!1),[re,ss]=p.useState(!1),[T,we]=p.useState({name:"",email:"",phone:"",avatar:""}),[_,ye]=p.useState({emailNotifications:!0,smsNotifications:!1,marketingEmails:!1,buildUpdates:!0,orderUpdates:!0,theme:"dark"}),l=p.useMemo(()=>{const s=g.reduce((v,W)=>{const ve=typeof W.total=="string"?W.total:String(W.total||"0");return v+(parseFloat(ve.replace(/[Â£,]/g,"")||"0")||0)},0),r=g.length,i=r*100+Math.floor(s/10),t=Math.floor(i/500)+1,P=t*500-i;let j="bronze";s>1e4?j="diamond":s>5e3?j="platinum":s>2500?j="gold":s>1e3&&(j="silver");let A="2024";if(h!=null&&h.createdAt)try{const v=h.createdAt instanceof Date?h.createdAt:new Date(h.createdAt);isNaN(v.getTime())||(A=v.getFullYear().toString())}catch(v){$.warn("Failed to parse createdAt date",{e:v})}return{level:t,xp:i,xpForNextLevel:P,totalSpent:s,ordersCount:r,buildsShared:u.filter(v=>"shared"in v&&v.shared).length,reviewsWritten:0,referrals:0,memberSince:A,tier:j}},[g,u,h]),fe=p.useMemo(()=>{var s;return[{id:"first-order",title:"First Build",description:"Placed your first order with Vortex PCs",icon:e.jsx(B,{className:"w-6 h-6"}),unlocked:l.ordersCount>=1,progress:Math.min(l.ordersCount,1),maxProgress:1,reward:"50 XP + 5% discount on next order",date:(s=g[0])!=null&&s.orderDate?new Date(g[0].orderDate).toLocaleDateString():void 0},{id:"power-user",title:"Power User",description:"Order 5 custom PCs",icon:e.jsx(Ie,{className:"w-6 h-6"}),unlocked:l.ordersCount>=5,progress:Math.min(l.ordersCount,5),maxProgress:5,reward:"200 XP + Free RGB upgrade"},{id:"big-spender",title:"VIP Customer",description:"Spend over Â£5,000",icon:e.jsx(He,{className:"w-6 h-6"}),unlocked:l.totalSpent>=5e3,progress:Math.min(l.totalSpent,5e3),maxProgress:5e3,reward:"Platinum tier + Priority support"},{id:"builder",title:"Master Builder",description:"Save 10 custom configurations",icon:e.jsx(Ce,{className:"w-6 h-6"}),unlocked:u.length>=10,progress:Math.min(u.length,10),maxProgress:10,reward:"150 XP + Custom builder badge"},{id:"config-saver",title:"Configuration Expert",description:"Save 5 different PC configurations",icon:e.jsx(Ve,{className:"w-6 h-6"}),unlocked:u.length>=5,progress:Math.min(u.length,5),maxProgress:5,reward:"100 XP + Exclusive builder badge"},{id:"loyal",title:"Loyal Customer",description:"Member for over 1 year",icon:e.jsx($e,{className:"w-6 h-6"}),unlocked:!1,progress:0,maxProgress:365,reward:"500 XP + Lifetime 10% discount"}]},[l,g,u]),le=p.useMemo(()=>{const s=[];return s.push({id:"welcome-bonus",title:"Welcome Bonus",description:l.ordersCount===0?"5% off your first order over Â£500":"Claimed! Used on your first order",type:"discount",value:"5%",icon:e.jsx(Q,{className:"w-5 h-5"}),claimed:l.ordersCount>0}),s.push({id:"level-milestone",title:"Level Up Reward",description:l.level>=2?"10% off your next order":"Reach Level 2 to unlock this reward",type:"discount",value:"10%",icon:e.jsx(Ye,{className:"w-5 h-5"}),claimed:l.level>=2?!1:void 0,expiresAt:"31-03-2026"}),s.push({id:"config-bonus",title:"Builder's Reward",description:u.length>=1?"Â£25 credit for saving and sharing your configuration":"Save and share 1 configuration to unlock Â£25 credit",type:"discount",value:"Â£25",icon:e.jsx(Ge,{className:"w-5 h-5"}),claimed:u.length>=1?!1:void 0}),s.push({id:"repeat-customer",title:"Repeat Customer Bonus",description:l.ordersCount>=2?"15% off your next order":"Place 2 orders to unlock this reward",type:"discount",value:"15%",icon:e.jsx(Y,{className:"w-5 h-5"}),claimed:l.ordersCount>=2?!1:void 0,expiresAt:"31-03-2026"}),s.push({id:"support-for-all",title:"Fast Support For Everyone",description:"All customers are treated equally with rapid, helpful supportâ€”no tiers required",type:"priority",value:"Included",icon:e.jsx(ee,{className:"w-5 h-5"}),claimed:!0}),s.push({id:"free-shipping",title:"Free Express Shipping",description:l.tier==="platinum"||l.tier==="diamond"?"Free express shipping (worth Â£14.99) on your next order":"Reach Platinum tier (Â£5,000 spent) to unlock free shipping",type:"freebie",value:"Worth Â£14.99",icon:e.jsx(Se,{className:"w-5 h-5"}),claimed:l.tier==="platinum"||l.tier==="diamond"?!1:void 0,expiresAt:"31-03-2026"}),s.push({id:"early-access",title:"Early Access",description:l.level>=3?"Get notified 24 hours early about new launches":"Reach Level 3 to unlock early access",type:"exclusive",value:l.level>=3?"Active":"Locked",icon:e.jsx(X,{className:"w-5 h-5"}),claimed:l.level>=3}),s.push({id:"premium-consultation",title:"Premium Build Consultation",description:l.tier==="diamond"?"Free 30-minute consultation with our expert builders":"Reach Diamond tier (Â£10,000 spent) to unlock",type:"exclusive",value:l.tier==="diamond"?"Worth Â£50":"Locked",icon:e.jsx(J,{className:"w-5 h-5"}),claimed:l.tier==="diamond"?!1:void 0,expiresAt:"31-03-2026"}),s.push({id:"extended-warranty",title:"Extended Warranty",description:l.ordersCount>=3?"Free 1-year warranty extension":"Place 3 orders to unlock extended warranty",type:"freebie",value:"Worth Â£99",icon:e.jsx(cs,{className:"w-5 h-5"}),claimed:l.ordersCount>=3?!1:void 0,expiresAt:"31-03-2026"}),s.push({id:"big-spender",title:"Big Spender Bonus",description:"Â£50 off your next order for being a valued customer",type:"discount",value:"Â£50",icon:e.jsx(qe,{className:"w-5 h-5"}),claimed:!1,expiresAt:"31-03-2026"}),s.push({id:"referral-bonus",title:"Referral Rewards",description:l.referrals>=1?`You've referred ${l.referrals} customers! Earn Â£25 per referral`:"Refer a friend and earn Â£25 off your next order",type:"discount",value:"Â£25 each",icon:e.jsx(os,{className:"w-5 h-5"}),claimed:l.referrals>=1?!1:void 0}),s.push({id:"winter-2025",title:"Winter Sale Exclusive",description:"Extra 5% off on top of sale prices",type:"discount",value:"5%",icon:e.jsx(Ye,{className:"w-5 h-5"}),claimed:!1,expiresAt:"31-12-2025"}),s.push({id:"loyalty-year",title:"Loyalty Milestone",description:"Member for 1 year? Unlock 20% lifetime discount!",type:"discount",value:"20%",icon:e.jsx($e,{className:"w-5 h-5"}),claimed:void 0,expiresAt:"Unlock at 1 year"}),s.push({id:"rgb-upgrade",title:"RGB Lighting Upgrade",description:u.length>=3?"Free RGB lighting kit with your next build":"Save 3 configurations to unlock RGB upgrade",type:"freebie",value:"Worth Â£35",icon:e.jsx(Ze,{className:"w-5 h-5"}),claimed:u.length>=3?!1:void 0,expiresAt:"31-03-2026"}),s},[l,u]);p.useEffect(()=>{(async()=>{if(!c){C(!1);return}try{C(!0),we({name:(h==null?void 0:h.displayName)||c.displayName||"",email:(h==null?void 0:h.email)||c.email||"",phone:(h==null?void 0:h.phone)||"",avatar:""});const r=await Ns(c.uid);R(Ds(r));const i=await vs(c.uid);M(i);const t=await ks(c.uid);S(t),$.info("Member Area data loaded",{orders:r.length,configs:i.length,tickets:t.length})}catch(r){$.error("Error loading member area data",r),x.error("Failed to load your data")}finally{C(!1)}})()},[c,h]);const Ne=s=>{switch(s){case"diamond":return"from-cyan-400 to-blue-600";case"platinum":return"from-gray-300 to-gray-500";case"gold":return"from-yellow-400 to-yellow-600";case"silver":return"from-gray-400 to-gray-600";default:return"from-orange-600 to-orange-800"}},ts=s=>{switch(s){case"diamond":return e.jsx(X,{className:"w-5 h-5"});case"platinum":return e.jsx(He,{className:"w-5 h-5"});case"gold":return e.jsx(Y,{className:"w-5 h-5"});case"silver":return e.jsx(Cs,{className:"w-5 h-5"});default:return e.jsx(Ge,{className:"w-5 h-5"})}},Me=s=>{const r=s.toUpperCase().split("-")[0].substring(0,4),i=(c==null?void 0:c.uid.substring(0,4).toUpperCase())||"USER",t=Date.now().toString().slice(-4);return`${r}${i}${t}`},as=s=>{navigator.clipboard.writeText(s),je(!0),x.success("Discount code copied to clipboard!"),setTimeout(()=>je(!1),2e3)};return k?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(ds,{className:"w-12 h-12 animate-spin text-sky-500"})}):c?e.jsxs("div",{className:"min-h-screen py-8 relative",children:[e.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-sky-500/5 via-transparent to-purple-500/5 pointer-events-none"}),e.jsx("div",{className:"fixed inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(56,189,248,0.1),transparent_50%)] pointer-events-none"}),e.jsx("div",{className:"fixed left-[900px] top-1/2 -translate-y-1/2 pointer-events-none select-none overflow-hidden",children:e.jsxs("div",{className:"text-[7.4rem] font-black text-white/[0.04] whitespace-nowrap",style:{writingMode:"vertical-rl",textOrientation:"mixed",transform:"rotate(180deg)"},children:[T.name.split(" ")[0].toUpperCase(),"'S AREA"]})}),e.jsxs("div",{className:"mx-auto px-4 relative",style:{maxWidth:"1300px"},children:[e.jsx("div",{className:"mb-8",children:e.jsxs(m,{className:"bg-gradient-to-r from-sky-500/10 via-blue-500/10 to-purple-500/10 border-white/20 backdrop-blur-xl overflow-hidden relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-sky-500/10 via-transparent to-purple-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),e.jsx("div",{className:"p-6 sm:p-8 lg:p-10 relative",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-start justify-between gap-6 lg:gap-8 mb-8",children:[e.jsxs("div",{className:"flex items-start gap-4 sm:gap-5",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx(Ss,{className:"w-20 h-20 sm:w-24 sm:h-24 border-2 border-white/10 relative ring-2 ring-white/5",children:e.jsx(Ps,{className:`bg-gradient-to-br ${Ne(l.tier)} text-white text-2xl sm:text-3xl font-bold`,children:T.name.split(" ").map(s=>s[0]).join("").toUpperCase()||"U"})}),l.tier!=="bronze"&&e.jsx("div",{className:`absolute -bottom-1 -right-1 bg-gradient-to-r ${Ne(l.tier)} rounded-full p-2 border-2 border-black shadow-lg`,children:ts(l.tier)})]}),e.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-white mb-2 tracking-tight",children:T.name||"Welcome"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-3",children:[l.tier!=="bronze"&&e.jsxs(f,{className:`bg-gradient-to-r ${Ne(l.tier)} border-0 text-white capitalize px-3 py-1 text-sm font-medium`,children:[l.tier," Member"]}),e.jsxs("span",{className:"text-sm text-gray-400",children:["Member since ",l.memberSince]})]}),e.jsxs("div",{className:"flex items-center gap-3 max-w-md",children:[e.jsx(V,{children:e.jsxs(G,{children:[e.jsx(q,{asChild:!0,children:e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-yellow-500/10 border border-yellow-500/20 rounded-lg cursor-help",children:[e.jsx(Ie,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),e.jsxs("span",{className:"text-sm font-semibold text-yellow-400",children:["Level ",l.level]})]})}),e.jsxs(H,{className:"max-w-xs",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Account Level"}),e.jsx("p",{className:"text-xs",children:"Earn XP by placing orders and completing milestones. Higher levels unlock exclusive perks and rewards."})]})]})}),e.jsx("div",{className:"flex-1",children:e.jsx(V,{children:e.jsxs(G,{children:[e.jsx(q,{asChild:!0,children:e.jsxs("div",{className:"cursor-help",children:[e.jsx(ne,{value:l.xp%500/5,className:"h-2 bg-white/10"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.xpForNextLevel," XP to Level"," ",l.level+1]})]})}),e.jsxs(H,{className:"max-w-xs",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Experience Points (XP)"}),e.jsx("p",{className:"text-xs mb-2",children:"Track your progress to the next level. Earn XP by:"}),e.jsxs("ul",{className:"text-xs space-y-1",children:[e.jsx("li",{children:"â€¢ Completing purchases (+100 XP per order)"}),e.jsx("li",{children:"â€¢ Writing product reviews (+50 XP)"}),e.jsx("li",{children:"â€¢ Using PC Builder (+25 XP per build)"}),e.jsx("li",{children:"â€¢ Sharing products on social media (+15 XP)"}),e.jsx("li",{children:"â€¢ Unlocking achievements"})]})]})]})})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-2 xl:grid-cols-4 gap-4 w-full lg:w-auto lg:min-w-[400px]",children:[e.jsx(V,{children:e.jsxs(G,{children:[e.jsx(q,{asChild:!0,children:e.jsxs("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl p-4 hover:bg-white/10 hover:border-sky-500/30 transition-all duration-300 cursor-pointer group",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx("div",{className:"p-2 bg-sky-500/10 rounded-lg group-hover:bg-sky-500/20 transition-colors",children:e.jsx(B,{className:"w-4 h-4 text-sky-400"})})}),e.jsx("p",{className:"text-2xl font-bold text-white mb-0.5",children:l.ordersCount}),e.jsx("p",{className:"text-xs text-gray-400 font-medium",children:"Total Orders"})]})}),e.jsx(H,{children:e.jsx("p",{children:"Total orders placed"})})]})}),e.jsx(V,{children:e.jsxs(G,{children:[e.jsx(q,{asChild:!0,children:e.jsxs("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl p-4 hover:bg-white/10 hover:border-yellow-500/30 transition-all duration-300 cursor-pointer group",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx("div",{className:"p-2 bg-yellow-500/10 rounded-lg group-hover:bg-yellow-500/20 transition-colors",children:e.jsx(qe,{className:"w-4 h-4 text-yellow-400"})})}),e.jsxs("p",{className:"text-2xl font-bold text-white mb-0.5",children:["Â£",l.totalSpent.toLocaleString()]}),e.jsx("p",{className:"text-xs text-gray-400 font-medium",children:"Total Spent"})]})}),e.jsx(H,{children:e.jsx("p",{children:"Total amount spent"})})]})}),e.jsx(V,{children:e.jsxs(G,{children:[e.jsx(q,{asChild:!0,children:e.jsxs("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl p-4 hover:bg-white/10 hover:border-purple-500/30 transition-all duration-300 cursor-pointer group",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg group-hover:bg-purple-500/20 transition-colors",children:e.jsx(Y,{className:"w-4 h-4 text-purple-400"})})}),e.jsx("p",{className:"text-2xl font-bold text-white mb-0.5",children:fe.filter(s=>s.unlocked).length}),e.jsx("p",{className:"text-xs text-gray-400 font-medium",children:"Achievements"})]})}),e.jsxs(H,{className:"max-w-xs",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Achievements Unlocked"}),e.jsx("p",{className:"text-xs",children:'Complete milestones to earn achievements like "First Order", "PC Enthusiast", and "Build Master". Check the Achievements tab to see all available challenges.'})]})]})}),e.jsx(V,{children:e.jsxs(G,{children:[e.jsx(q,{asChild:!0,children:e.jsxs("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl p-4 hover:bg-white/10 hover:border-pink-500/30 transition-all duration-300 cursor-pointer group",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx("div",{className:"p-2 bg-pink-500/10 rounded-lg group-hover:bg-pink-500/20 transition-colors",children:e.jsx(Q,{className:"w-4 h-4 text-pink-400"})})}),e.jsx("p",{className:"text-2xl font-bold text-white mb-0.5",children:le.filter(s=>!s.claimed).length}),e.jsx("p",{className:"text-xs text-gray-400 font-medium",children:"Rewards Available"})]})}),e.jsx(H,{children:e.jsx("p",{children:"Available rewards to claim"})})]})})]})]})})]})}),e.jsxs(xs,{value:L,onValueChange:y,className:"space-y-6",children:[e.jsx("div",{className:"sticky top-0 z-30 pb-3",children:e.jsx("div",{className:"overflow-x-auto scrollbar-hide",children:e.jsxs(hs,{className:"bg-gray-900/80 border border-white/10 backdrop-blur-xl rounded-2xl p-1.5 w-full flex gap-1 shadow-lg shadow-black/20",children:[e.jsxs(z,{value:"dashboard",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-cyan-500 data-[state=active]:to-blue-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-cyan-500/25 text-gray-400 hover:text-white transition-all duration-300 rounded-xl px-6 py-2.5 font-medium",children:[e.jsx(Ae,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),e.jsxs(z,{value:"orders",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-cyan-500 data-[state=active]:to-blue-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-cyan-500/25 text-gray-400 hover:text-white transition-all duration-300 rounded-xl px-6 py-2.5 font-medium",children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"Orders"]}),e.jsxs(z,{value:"builds",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-cyan-500 data-[state=active]:to-blue-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-cyan-500/25 text-gray-400 hover:text-white transition-all duration-300 rounded-xl px-6 py-2.5 font-medium",children:[e.jsx(Ce,{className:"w-4 h-4 mr-2"}),"My Builds"]}),e.jsxs(z,{value:"rewards",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-cyan-500 data-[state=active]:to-blue-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-cyan-500/25 text-gray-400 hover:text-white transition-all duration-300 rounded-xl px-6 py-2.5 font-medium",children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Rewards"]}),e.jsxs(z,{value:"achievements",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-cyan-500 data-[state=active]:to-blue-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-cyan-500/25 text-gray-400 hover:text-white transition-all duration-300 rounded-xl px-6 py-2.5 font-medium",children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Achievements"]}),e.jsxs(z,{value:"profile",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-cyan-500 data-[state=active]:to-blue-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-cyan-500/25 text-gray-400 hover:text-white transition-all duration-300 rounded-xl px-6 py-2.5 font-medium",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"}),"Settings"]}),e.jsxs(z,{value:"support",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-cyan-500 data-[state=active]:to-blue-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-cyan-500/25 text-gray-400 hover:text-white transition-all duration-300 rounded-xl px-6 py-2.5 font-medium",children:[e.jsx(se,{className:"w-4 h-4 mr-2"}),"Support"]}),e.jsxs(o,{onClick:async()=>{try{const{logoutUser:s}=await is(async()=>{const{logoutUser:r}=await import("./index-C09NoPC0.js").then(i=>i.cs);return{logoutUser:r}},__vite__mapDeps([0,1,2,3,4]));await s(),window.location.href="/"}catch(s){$.error("Logout error:",s),x.error("Failed to logout")}},variant:"ghost",className:"ml-auto text-gray-400 hover:text-red-400 hover:bg-red-500/10 transition-all duration-300 rounded-xl px-6 py-2.5 font-medium",children:[e.jsx(us,{className:"w-4 h-4 mr-2"}),"Logout"]})]})})}),e.jsxs(I,{value:"dashboard",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[e.jsxs(o,{onClick:()=>n==null?void 0:n("pc-builder"),className:"h-auto py-4 sm:py-6 flex-col gap-2 bg-gradient-to-br from-sky-500 to-blue-600 hover:from-sky-400 hover:to-blue-500 border-0",children:[e.jsx(ee,{className:"w-6 h-6 sm:w-8 sm:h-8"}),e.jsx("span",{className:"font-semibold text-xs sm:text-sm",children:"Build New PC"})]}),e.jsxs(o,{onClick:()=>y("orders"),variant:"outline",className:"h-auto py-6 flex-col gap-2 border-white/20 hover:bg-white/10",children:[e.jsx(B,{className:"w-8 h-8 text-sky-400"}),e.jsx("span",{className:"font-semibold",children:"Track Order"})]}),e.jsxs(o,{onClick:()=>n==null?void 0:n("pc-finder"),variant:"outline",className:"h-auto py-6 flex-col gap-2 border-white/20 hover:bg-white/10",children:[e.jsx(Ze,{className:"w-8 h-8 text-yellow-400"}),e.jsx("span",{className:"font-semibold",children:"PC Finder"})]}),e.jsxs(o,{onClick:()=>n==null?void 0:n("support"),variant:"outline",className:"h-auto py-6 flex-col gap-2 border-white/20 hover:bg-white/10",children:[e.jsx(se,{className:"w-8 h-8 text-green-400"}),e.jsx("span",{className:"font-semibold",children:"Get Support"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(m,{className:"bg-white/5 border-white/10 backdrop-blur-xl p-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-4 sm:mb-6",children:[e.jsxs("h3",{className:"text-lg sm:text-xl font-bold flex items-center gap-2",children:[e.jsx(B,{className:"w-4 h-4 sm:w-5 sm:h-5 text-sky-400"}),e.jsx("span",{className:"truncate",children:"Active Orders"})]}),e.jsxs(o,{variant:"ghost",size:"sm",onClick:()=>y("orders"),children:["View All",e.jsx(ce,{className:"w-4 h-4 ml-1"})]})]}),g.filter(s=>s.status!=="delivered").slice(0,3).length>0?e.jsx("div",{className:"space-y-4",children:g.filter(s=>s.status!=="delivered").slice(0,3).map(s=>e.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-sky-500/50 transition-all cursor-pointer group",onClick:()=>y("orders"),children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-white mb-1 group-hover:text-sky-400 transition-colors",children:["Order #",s.id]}),e.jsx("p",{className:"text-sm text-gray-400",children:s.orderDate?new Date(s.orderDate).toLocaleDateString():"N/A"})]}),e.jsx(f,{className:`${s.status==="pending"?"bg-blue-500/20 text-blue-400":s.status==="shipped"?"bg-orange-500/20 text-orange-400":s.status==="delivered"?"bg-green-500/20 text-green-400":"bg-purple-500/20 text-purple-400"} border-0`,children:s.status})]}),e.jsx(ne,{value:s.progress||0,className:"h-2 mb-2"}),e.jsxs("p",{className:"text-xs text-gray-400",children:[s.progress||0,"% Complete"]})]},s.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(B,{className:"w-12 h-12 mx-auto mb-3 text-gray-500"}),e.jsx("p",{className:"text-gray-400 mb-4",children:"No active orders"}),e.jsx(o,{onClick:()=>n==null?void 0:n("pc-builder"),size:"sm",className:"bg-gradient-to-r from-sky-500 to-blue-600",children:"Build Your First PC"})]})]}),e.jsxs(m,{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/10 border-purple-500/30 backdrop-blur-xl p-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-full blur-3xl"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(X,{className:"w-5 h-5 text-purple-400"}),"Your Rewards"]}),e.jsxs(o,{variant:"ghost",size:"sm",onClick:()=>y("rewards"),children:["View All",e.jsx(ce,{className:"w-4 h-4 ml-1"})]})]}),le.filter(s=>!s.claimed).length>0?e.jsx("div",{className:"space-y-3",children:le.filter(s=>!s.claimed).slice(0,3).map(s=>e.jsx("div",{className:"p-4 rounded-lg bg-white/10 border border-white/20 backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-purple-500/30 to-pink-500/30",children:s.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-white mb-1",children:s.title}),e.jsx("p",{className:"text-sm text-gray-300 mb-2",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(f,{className:"bg-purple-500/20 text-purple-300 border-0",children:s.value}),s.expiresAt&&e.jsxs("p",{className:"text-xs text-gray-400",children:["Expires ",s.expiresAt]})]})]})]})},s.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Q,{className:"w-12 h-12 mx-auto mb-3 text-purple-400"}),e.jsx("p",{className:"text-gray-300",children:"No active rewards"}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Complete achievements to earn rewards!"})]})]})]})]}),e.jsxs(m,{className:"bg-white/5 border-white/10 backdrop-blur-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(Y,{className:"w-5 h-5 text-yellow-400"}),"Recent Achievements"]}),e.jsxs(o,{variant:"ghost",size:"sm",onClick:()=>y("achievements"),children:["View All",e.jsx(ce,{className:"w-4 h-4 ml-1"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:fe.filter(s=>s.unlocked).slice(0,3).map(s=>e.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-yellow-500/10 to-orange-500/10 border border-yellow-500/30 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0",children:e.jsx(Rs,{className:"w-8 h-8 text-yellow-500/20"})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"p-3 rounded-full bg-gradient-to-br from-yellow-500/30 to-orange-500/30 w-fit mb-3",children:s.icon}),e.jsx("p",{className:"font-semibold text-white mb-1",children:s.title}),e.jsx("p",{className:"text-sm text-gray-300 mb-2",children:s.description}),e.jsx(f,{className:"bg-yellow-500/20 text-yellow-300 border-0 text-xs",children:s.reward})]})]},s.id))})]})]}),e.jsx(I,{value:"orders",className:"space-y-6",children:e.jsxs(m,{className:"bg-white/5 border-white/10 backdrop-blur-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(B,{className:"w-7 h-7 text-cyan-400"}),"Order History"]}),g.length>0&&e.jsxs(f,{className:"bg-cyan-500/20 text-cyan-400 border-cyan-500/40 text-lg px-4 py-1",children:[g.length," ",g.length===1?"Order":"Orders"]})]}),g.length>0?e.jsx("div",{className:"space-y-4",children:g.map(s=>e.jsxs(m,{className:"bg-gradient-to-br from-white/10 via-white/5 to-white/10 border-white/20 p-6 hover:border-cyan-500/50 hover:shadow-lg hover:shadow-cyan-500/20 transition-all duration-300 cursor-pointer group relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/0 via-cyan-500/5 to-blue-500/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("p",{className:"text-2xl font-bold text-white",children:["Order #",s.displayId]}),s.status==="delivered"&&e.jsxs(f,{className:"bg-green-500/20 text-green-400 border-green-500/40 animate-pulse",children:[e.jsx(_e,{className:"w-3 h-3 mr-1"}),"Delivered"]}),s.status==="shipped"&&e.jsxs(f,{className:"bg-orange-500/20 text-orange-400 border-orange-500/40",children:[e.jsx(Se,{className:"w-3 h-3 mr-1"}),"In Transit"]}),s.status==="building"&&e.jsxs(f,{className:"bg-blue-500/20 text-blue-400 border-blue-500/40 animate-pulse",children:[e.jsx(Ae,{className:"w-3 h-3 mr-1"}),"Building"]}),s.status==="pending"&&e.jsxs(f,{className:"bg-purple-500/20 text-purple-400 border-purple-500/40",children:[e.jsx(oe,{className:"w-3 h-3 mr-1"}),"Processing"]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(oe,{className:"w-4 h-4"}),s.orderDate?new Date(s.orderDate).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"N/A"]}),s.items&&s.items.length>0&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(We,{className:"w-4 h-4"}),s.items.length," ",s.items.length===1?"Item":"Items"]})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-400",children:s.total})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-300",children:s.status==="delivered"?"ðŸŽ‰ Your order has been delivered!":s.status==="shipped"?"ðŸ“¦ On its way to you!":s.status==="building"?"âš¡ Being built with care...":"â³ Order confirmed & processing"}),e.jsxs("p",{className:"text-sm font-bold text-cyan-400",children:[s.progress||0,"%"]})]}),e.jsx(ne,{value:s.progress||100,className:"h-3 bg-gray-800 overflow-hidden"})]}),s.items&&s.items.length>0&&e.jsxs("div",{className:"mb-4 p-3 bg-black/30 rounded-lg border border-white/5",children:[e.jsx("p",{className:"text-xs text-gray-400 mb-2 font-semibold uppercase tracking-wider",children:"Order Contents"}),e.jsxs("div",{className:"space-y-1",children:[s.items.slice(0,3).map((r,i)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-300 flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-cyan-400"}),r.name]}),e.jsxs("span",{className:"text-gray-400",children:["Â£",r.unitPrice.toFixed(2)]})]},i)),s.items.length>3&&e.jsxs("p",{className:"text-xs text-gray-500 italic",children:["+",s.items.length-3," more items"]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(o,{size:"sm",variant:"outline",className:"border-cyan-500/30 text-cyan-400 hover:bg-cyan-500/10 hover:border-cyan-500/50 transition-all",onClick:()=>U(s),children:[e.jsx(gs,{className:"w-4 h-4 mr-2"}),"View Full Details"]}),(s.status==="delivered"||s.status==="shipped")&&e.jsxs(o,{size:"sm",className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-400 hover:to-emerald-500 text-white font-semibold shadow-lg shadow-green-500/25 hover:shadow-green-500/40 transition-all",onClick:()=>{E(s),F(!0)},children:[e.jsx(J,{className:"w-4 h-4 mr-2 fill-yellow-400 text-yellow-400"}),"Leave a Review"]}),(s.status==="shipped"||s.status==="building")&&e.jsxs(o,{size:"sm",variant:"outline",className:"border-orange-500/30 text-orange-400 hover:bg-orange-500/10 hover:border-orange-500/50 transition-all",onClick:()=>{x.info("Tracking feature coming soon!")},children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"Track Package"]}),(s.status==="building"||s.status==="pending")&&e.jsxs(o,{size:"sm",variant:"outline",className:"border-blue-500/30 text-blue-400 hover:bg-blue-500/10 hover:border-blue-500/50 transition-all",onClick:()=>{x.info("Build progress updates coming soon!")},children:[e.jsx(Ae,{className:"w-4 h-4 mr-2"}),"Watch Build Progress"]}),e.jsxs(o,{size:"sm",variant:"outline",className:"border-purple-500/30 text-purple-400 hover:bg-purple-500/10 hover:border-purple-500/50 transition-all",onClick:()=>{x.info("Support chat coming soon!")},children:[e.jsx(se,{className:"w-4 h-4 mr-2"}),"Contact Support"]})]})]})]},s.id))}):e.jsxs("div",{className:"text-center py-16 px-4",children:[e.jsxs("div",{className:"relative inline-block mb-6",children:[e.jsx(B,{className:"w-24 h-24 mx-auto text-gray-600 animate-bounce"}),e.jsx(X,{className:"w-8 h-8 text-yellow-400 absolute -top-2 -right-2 animate-pulse"})]}),e.jsx("p",{className:"text-3xl font-bold text-white mb-3",children:"No Orders Yet! ðŸš€"}),e.jsx("p",{className:"text-lg text-gray-400 mb-6 max-w-md mx-auto",children:"Ready to build the PC of your dreams? Let's get started!"}),e.jsxs(o,{onClick:()=>n==null?void 0:n("pc-builder"),className:"bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-400 hover:to-blue-500 text-white font-bold text-lg px-8 py-6 shadow-2xl shadow-cyan-500/30 hover:shadow-cyan-500/50 transition-all duration-300 transform hover:scale-105",children:[e.jsx(ee,{className:"w-5 h-5 mr-2"}),"Build Your First PC",e.jsx(X,{className:"w-5 h-5 ml-2"})]})]})]})}),e.jsx(I,{value:"builds",className:"space-y-6",children:e.jsxs(m,{className:"bg-white/5 border-white/10 backdrop-blur-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold",children:"Saved Configurations"}),e.jsxs(o,{onClick:()=>n==null?void 0:n("pc-builder"),className:"bg-gradient-to-r from-sky-500 to-blue-600",children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),"Create New"]})]}),u.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:u.map(s=>e.jsxs(m,{className:"bg-white/5 border-white/10 p-4 hover:border-sky-500/50 transition-all group cursor-pointer",children:[e.jsx("div",{className:"aspect-video bg-gradient-to-br from-sky-500/20 to-purple-500/20 rounded-lg mb-4 flex items-center justify-center",children:e.jsx(We,{className:"w-12 h-12 text-sky-400"})}),e.jsx("h4",{className:"font-semibold text-white mb-2 group-hover:text-sky-400 transition-colors",children:s.name||"Untitled Build"}),e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:s.createdAt?new Date(s.createdAt).toLocaleDateString():"Recently saved"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(o,{size:"sm",variant:"outline",className:"flex-1 border-white/20",children:[e.jsx(Xe,{className:"w-4 h-4 mr-2"}),"Edit"]}),e.jsx(o,{size:"sm",variant:"outline",className:"border-white/20",children:e.jsx(Ve,{className:"w-4 h-4"})})]})]},s.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ce,{className:"w-16 h-16 mx-auto mb-4 text-gray-500"}),e.jsx("p",{className:"text-xl text-gray-400 mb-4",children:"No saved builds yet"}),e.jsxs(o,{onClick:()=>n==null?void 0:n("pc-builder"),className:"bg-gradient-to-r from-sky-500 to-blue-600",children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),"Start Building"]})]})]})}),e.jsx(I,{value:"support",className:"space-y-6",children:e.jsxs(m,{className:"bg-white/5 border-white/10 backdrop-blur-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(se,{className:"w-7 h-7 text-cyan-400"}),"Support Tickets"]}),e.jsxs(f,{className:"bg-cyan-500/20 text-cyan-400 border-cyan-500/40 text-lg px-4 py-1",children:[b.length," ",b.length===1?"Ticket":"Tickets"]})]}),e.jsxs(m,{className:"bg-black/30 border-white/10 p-4 mb-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Raise a New Ticket"}),e.jsxs("form",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",onSubmit:async s=>{s.preventDefault();const r=s.currentTarget,i=new FormData(r),t=String(i.get("subject")||"").trim(),P=String(i.get("category")||"general"),j=String(i.get("message")||"").trim();if(t.length<5||j.length<10){x.error("Please provide a clear subject and message.");return}try{const A=c==null?void 0:c.uid,v=T.name||(c==null?void 0:c.displayName)||"",W=T.email||(c==null?void 0:c.email)||"",ve=await bs({userId:A,name:v,email:W,subject:t,message:j,type:"customer",category:P}),ke=Date.now(),rs={id:ve,userId:A,name:v,email:W,subject:t,message:j,type:"customer",category:P,status:"open",createdAt:new Date(ke),updatedAt:new Date(ke),messages:[{senderId:A,senderName:v||"you",body:j,internal:!1,timestamp:new Date(ke)}]};S(ls=>[rs,...ls]),x.success("Support ticket created! Our team will reply soon."),r.reset()}catch(A){const v=A instanceof Error?A.message:"Failed to create support ticket";x.error(v)}},children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(D,{htmlFor:"subject",className:"text-gray-300",children:"Subject"}),e.jsx(Z,{id:"subject",name:"subject",placeholder:"Describe the issue briefly",className:"mt-1 bg-white/5 border-white/10"})]}),e.jsxs("div",{children:[e.jsx(D,{htmlFor:"category",className:"text-gray-300",children:"Category"}),e.jsxs("select",{id:"category",name:"category",className:"mt-1 w-full rounded-md bg-white/5 border border-white/10 text-gray-200 px-3 py-2",children:[e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"order",children:"Order"}),e.jsx("option",{value:"billing",children:"Billing"}),e.jsx("option",{value:"repair",children:"Repair"}),e.jsx("option",{value:"technical",children:"Technical"})]})]}),e.jsxs("div",{className:"md:col-span-3",children:[e.jsx(D,{htmlFor:"message",className:"text-gray-300",children:"Message"}),e.jsx(Te,{id:"message",name:"message",rows:4,placeholder:"Provide as much detail as possible",className:"mt-1 bg-white/5 border-white/10"})]}),e.jsx("div",{className:"md:col-span-3 flex justify-end",children:e.jsxs(o,{type:"submit",className:"bg-gradient-to-r from-cyan-500 to-blue-600",children:[e.jsx(De,{className:"w-4 h-4 mr-2"}),"Submit Ticket"]})})]})]}),e.jsxs("div",{className:"space-y-3",children:[b.length===0&&e.jsx("div",{className:"text-center py-10 text-gray-400",children:"No support tickets yet."}),b.map(s=>e.jsxs(m,{className:"bg-white/5 border-white/10 p-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-semibold",children:s.subject}),e.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:[s.category," â€¢"," ",new Date(s.createdAt).toLocaleString()]})]}),e.jsx(f,{className:`${s.status==="open"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":s.status==="closed"?"bg-green-500/20 text-green-400 border-green-500/30":"bg-blue-500/20 text-blue-400 border-blue-500/30"}`,children:s.status})]}),s.messages&&s.messages.length>0&&e.jsx("div",{className:"mt-3 text-gray-300 text-sm bg-black/20 rounded-md p-3 border border-white/10",children:s.messages[s.messages.length-1].body}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsx(o,{variant:"outline",className:"border-cyan-500/30 text-cyan-400",onClick:()=>O(s),children:"View Thread"}),s.status!=="closed"&&e.jsx(o,{variant:"outline",className:"border-purple-500/30 text-purple-400",onClick:()=>O(s),children:"Add Reply"})]})]},s.id))]})]})}),e.jsx(I,{value:"rewards",className:"space-y-6",children:e.jsxs(m,{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/10 border-purple-500/30 backdrop-blur-xl p-6",children:[e.jsxs("h3",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[e.jsx(Q,{className:"w-6 h-6 text-purple-400"}),"Your Rewards & Perks"]}),e.jsxs("div",{className:"mb-6 rounded-lg border border-purple-500/40 bg-gradient-to-r from-sky-600/20 to-blue-600/20 p-4",children:[e.jsx("p",{className:"text-white font-semibold",children:"Welcome to Vortex PCs Ltd â€” where loyalty is rewarded."}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Enjoy exclusive savings, upgrades, and insider access designed to make every build better. No gimmicks â€” just genuine value for our customers."})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:le.map(s=>e.jsxs(m,{className:`${s.claimed?"bg-white/5 border-white/10":"bg-gradient-to-br from-purple-500/20 to-pink-500/20 border-purple-500/40"} p-6 relative overflow-hidden`,children:[!s.claimed&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(f,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0",children:"NEW"})}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${s.claimed?"bg-white/10":"bg-gradient-to-br from-purple-500/30 to-pink-500/30"}`,children:s.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-white mb-2",children:s.title}),e.jsx("p",{className:"text-sm text-gray-300 mb-3",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(f,{className:`${s.type==="discount"?"bg-green-500/20 text-green-300":s.type==="freebie"?"bg-blue-500/20 text-blue-300":s.type==="priority"?"bg-purple-500/20 text-purple-300":"bg-orange-500/20 text-orange-300"} border-0`,children:s.value}),s.claimed===!1&&e.jsx(o,{size:"sm",className:"bg-gradient-to-r from-purple-500 to-pink-600",onClick:()=>{Qe(s),be(!0),je(!1)},children:"Claim Now"}),s.claimed===void 0&&e.jsx(f,{className:"bg-gray-500/20 text-gray-400 border-gray-500/40",children:"Locked"})]}),s.expiresAt&&e.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:[e.jsx(oe,{className:"w-3 h-3 inline mr-1"}),"Expires ",s.expiresAt]})]})]})]},s.id))})]})}),e.jsx(I,{value:"achievements",className:"space-y-6",children:e.jsxs(m,{className:"bg-white/5 border-white/10 backdrop-blur-xl p-6",children:[e.jsxs("h3",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[e.jsx(Y,{className:"w-6 h-6 text-yellow-400"}),"Achievements"]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:fe.map(s=>e.jsxs(m,{className:`${s.unlocked?"bg-gradient-to-br from-yellow-500/20 to-orange-500/20 border-yellow-500/40":"bg-white/5 border-white/10 opacity-60"} p-6 relative overflow-hidden`,children:[s.unlocked&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(_e,{className:"w-6 h-6 text-green-400"})}),e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:`p-3 rounded-full ${s.unlocked?"bg-gradient-to-br from-yellow-500/30 to-orange-500/30":"bg-white/10"}`,children:s.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-white mb-1",children:s.title}),e.jsx("p",{className:"text-sm text-gray-300 mb-3",children:s.description}),s.unlocked?e.jsxs("div",{children:[e.jsx(f,{className:"bg-yellow-500/20 text-yellow-300 border-0 mb-2",children:s.reward}),s.date&&e.jsxs("p",{className:"text-xs text-gray-400",children:["Unlocked on ",s.date]})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Progress"}),e.jsxs("span",{className:"text-sm text-gray-400",children:[s.progress," /"," ",s.maxProgress]})]}),e.jsx(ne,{value:s.progress/s.maxProgress*100,className:"h-2"})]})]})]})]},s.id))})]})}),e.jsx(I,{value:"profile",className:"space-y-6",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(m,{className:"bg-white/5 border-white/10 backdrop-blur-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Profile Information"}),e.jsx(o,{variant:"outline",size:"sm",onClick:()=>ss(!re),className:"border-white/20",children:re?e.jsxs(e.Fragment,{children:[e.jsx(As,{className:"w-4 h-4 mr-2"}),"Save"]}):e.jsxs(e.Fragment,{children:[e.jsx(Xe,{className:"w-4 h-4 mr-2"}),"Edit"]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(D,{className:"text-gray-300",children:"Full Name"}),e.jsx(Z,{value:T.name,onChange:s=>we({...T,name:s.target.value}),disabled:!re,className:"bg-white/5 border-white/10 mt-2"})]}),e.jsxs("div",{children:[e.jsx(D,{className:"text-gray-300",children:"Email Address"}),e.jsx(Z,{value:T.email,disabled:!0,className:"bg-white/5 border-white/10 mt-2"})]}),e.jsxs("div",{children:[e.jsx(D,{className:"text-gray-300",children:"Phone Number"}),e.jsx(Z,{value:T.phone,onChange:s=>we({...T,phone:s.target.value}),disabled:!re,className:"bg-white/5 border-white/10 mt-2"})]})]})]}),e.jsxs(m,{className:"bg-white/5 border-white/10 backdrop-blur-xl p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-6",children:"Preferences"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Receive order updates via email"})]}),e.jsx(Pe,{checked:_.emailNotifications,onCheckedChange:s=>ye({..._,emailNotifications:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"Build Updates"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Get notified about build progress"})]}),e.jsx(Pe,{checked:_.buildUpdates,onCheckedChange:s=>ye({..._,buildUpdates:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"Marketing Emails"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Receive deals and promotions"})]}),e.jsx(Pe,{checked:_.marketingEmails,onCheckedChange:s=>ye({..._,marketingEmails:s})})]})]})]})]})})]})]}),e.jsx(de,{open:Ke,onOpenChange:be,children:e.jsxs(me,{className:"bg-gradient-to-br from-gray-900 to-black border-sky-500/30",children:[e.jsxs(xe,{children:[e.jsxs(he,{className:"text-2xl font-bold text-white flex items-center gap-3",children:[w==null?void 0:w.icon,w==null?void 0:w.title]}),e.jsx(pe,{className:"text-gray-300",children:w==null?void 0:w.description})]}),e.jsxs("div",{className:"space-y-6 mt-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(f,{className:"bg-gradient-to-r from-purple-500 to-pink-600 text-white border-0 text-lg px-6 py-2",children:w==null?void 0:w.value})}),w&&e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 space-y-4",children:[e.jsx(D,{className:"text-white text-sm font-medium",children:"Your Discount Code"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{readOnly:!0,value:Me(w.id),className:"bg-black/50 border-sky-500/30 text-white text-lg font-mono text-center"}),e.jsx(o,{size:"icon",variant:"outline",className:"border-sky-500/30 hover:bg-sky-500/20",onClick:()=>as(Me(w.id)),children:es?e.jsx(Ls,{className:"w-5 h-5 text-green-400"}):e.jsx(Fs,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"text-sm text-gray-400 text-center",children:"Copy this code and paste it at checkout to claim your reward"})]}),(w==null?void 0:w.expiresAt)&&e.jsxs("div",{className:"flex items-center justify-center gap-2 text-orange-400",children:[e.jsx(oe,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:["Expires ",w.expiresAt]})]}),e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-white mb-2 flex items-center gap-2",children:[e.jsx(X,{className:"w-4 h-4 text-blue-400"}),"How to Use"]}),e.jsxs("ol",{className:"text-sm text-gray-300 space-y-1 list-decimal list-inside",children:[e.jsx("li",{children:"Copy the discount code above"}),e.jsx("li",{children:"Browse our products and add items to your cart"}),e.jsx("li",{children:"At checkout, paste the code in the discount field"}),e.jsx("li",{children:"Your reward will be automatically applied!"})]})]}),e.jsxs(o,{className:"w-full bg-gradient-to-r from-sky-600 to-blue-600 hover:from-sky-500 hover:to-blue-500",onClick:()=>{n&&n("pc-builder"),be(!1)},children:["Start Building Now",e.jsx(ce,{className:"w-4 h-4 ml-2"})]})]})]})}),e.jsx(de,{open:!!d,onOpenChange:s=>{s||(O(null),te(""))},children:e.jsxs(me,{className:"max-w-3xl bg-gray-900 border-white/10",children:[e.jsxs(xe,{children:[e.jsxs(he,{className:"text-2xl text-white flex items-center gap-2",children:[e.jsx(se,{className:"w-6 h-6 text-cyan-400"}),(d==null?void 0:d.subject)||"Support Ticket"]}),d&&e.jsxs(pe,{className:"text-gray-400",children:[d.category," â€¢"," ",new Date(d.createdAt).toLocaleString()," â€¢ Status:"," ",d.status]})]}),d&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(m,{className:"bg-white/5 border-white/10 p-4",children:e.jsx("div",{className:"space-y-3 max-h-[40vh] overflow-y-auto pr-2",children:(Ee=d.messages)==null?void 0:Ee.map((s,r)=>{var i;return e.jsxs("div",{className:"bg-black/20 p-3 rounded-md border border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-white font-medium",children:s.senderName||"Support"}),e.jsx("p",{className:"text-xs text-gray-500",children:(()=>{var j,A;const t=s.timestamp,P=t instanceof Date?t:((j=t==null?void 0:t.toDate)==null?void 0:j.call(t))||new Date;return((A=P.toLocaleString)==null?void 0:A.call(P))||""})()})]}),e.jsx("p",{className:"text-gray-300 text-sm mt-1",children:s.body}),s.attachments&&s.attachments.length>0&&e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsx("p",{className:"text-xs text-gray-400",children:"Attachments:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(i=s.attachments)==null?void 0:i.map((t,P)=>e.jsx("a",{href:t.url,target:"_blank",rel:"noreferrer",className:"text-cyan-400 text-xs underline hover:text-cyan-300",children:(t.name||"file")+(t.size?` (${Math.round(t.size/1024)} KB)`:"")},`att-${P}`))})]})]},r)})})}),d.status!=="closed"&&e.jsxs(m,{className:"bg-white/5 border-white/10 p-4",children:[e.jsx(D,{htmlFor:"reply",className:"text-gray-300",children:"Your Reply"}),e.jsx(Te,{id:"reply",value:Fe,onChange:s=>te(s.target.value),rows:4,className:"mt-1 bg-white/5 border-white/10",placeholder:"Type your message for our support team"}),e.jsxs("div",{className:"mt-3",children:[e.jsx(D,{className:"text-gray-300",children:"Attachments (optional)"}),e.jsx("input",{type:"file",multiple:!0,className:"mt-1 block text-gray-300",onChange:s=>{const r=Array.from(s.target.files||[]);Le(r);const i={};for(const t of r)i[t.name]=0;ge(i)}}),ae.length>0&&e.jsx("div",{className:"mt-2 space-y-1",children:ae.map(s=>e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-300",children:[e.jsx("span",{children:s.name}),e.jsx("div",{className:"flex-1 h-1 bg-white/10 rounded",children:e.jsx("div",{className:"h-1 bg-cyan-500 rounded",style:{width:`${Re[s.name]||0}%`}})}),e.jsxs("span",{className:"text-gray-500",children:[Math.round(Re[s.name]||0),"%"]})]},s.name))})]}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-3 items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"text-gray-300",children:"Status"}),e.jsxs("select",{className:"rounded-md bg-white/5 border border-white/10 text-gray-200 px-3 py-2",value:d.status,onChange:async s=>{const r=s.target.value;try{await js(String(d.id||""),r),S(i=>i.map(t=>t.id===d.id?{...t,status:r}:t)),O({...d,status:r}),x.success("Status updated")}catch(i){const t=i instanceof Error?i.message:"Failed to update status";x.error(t)}},children:[e.jsx("option",{value:"open",children:"Open"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"closed",children:"Closed"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"text-gray-300",children:"Priority"}),e.jsxs("select",{className:"rounded-md bg-white/5 border border-white/10 text-gray-200 px-3 py-2",value:d.priority||"normal",onChange:async s=>{const r=s.target.value;try{await ws(String(d.id||""),r),S(i=>i.map(t=>t.id===d.id?{...t,priority:r}:t)),O({...d,priority:r}),x.success("Priority updated")}catch(i){const t=i instanceof Error?i.message:"Failed to update priority";x.error(t)}},children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"urgent",children:"Urgent"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"text-gray-300",children:"Category"}),e.jsxs("select",{className:"rounded-md bg-white/5 border border-white/10 text-gray-200 px-3 py-2",value:d.category||"general",onChange:async s=>{const r=s.target.value;try{await ys(String(d.id||""),r),S(i=>i.map(t=>t.id===d.id?{...t,category:r}:t)),O({...d,category:r}),x.success("Category updated")}catch(i){const t=i instanceof Error?i.message:"Failed to update category";x.error(t)}},children:[e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"order",children:"Order"}),e.jsx("option",{value:"billing",children:"Billing"}),e.jsx("option",{value:"repair",children:"Repair"}),e.jsx("option",{value:"technical",children:"Technical"})]})]})]}),e.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[e.jsx(o,{variant:"outline",onClick:()=>{te(""),O(null)},children:"Close"}),e.jsxs(o,{className:"bg-gradient-to-r from-cyan-500 to-blue-600",onClick:async()=>{const s=Fe.trim();if(s.length<3||!d){x.error("Please enter a meaningful reply.");return}try{const r=Date.now(),i={senderId:c==null?void 0:c.uid,senderName:T.name||"you",body:s,internal:!1,timestamp:new Date(r)};O({...d,messages:[...d.messages||[],i]});let t=[];if(ae.length>0){t=[];for(const P of ae){const j=await Ts(String(d.id||""),P,A=>{ge(v=>({...v,[P.name]:A}))});t.push(j)}}await fs(String(d.id||""),{senderId:(c==null?void 0:c.uid)||void 0,senderName:T.name||void 0,body:s,internal:!1,attachments:t}),x.success("Reply sent"),te(""),Le([]),ge({}),S(P=>P.map(j=>j.id===d.id?{...j,messages:[...j.messages||[],{...i,attachments:t}],updatedAt:new Date(r)}:j))}catch(r){const i=r instanceof Error?r.message:"Failed to send reply";x.error(i)}},children:[e.jsx(De,{className:"w-4 h-4 mr-2"}),"Send Reply"]})]})]})]})]})}),e.jsx(de,{open:!!a,onOpenChange:s=>!s&&U(null),children:e.jsxs(me,{className:"max-w-4xl max-h-[90vh] overflow-y-auto bg-gray-900 border-white/10",children:[e.jsxs(xe,{children:[e.jsx(he,{className:"text-2xl text-white",children:"Order Details"}),e.jsx(pe,{className:"text-gray-400",children:a&&e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[e.jsxs("span",{className:"text-lg font-semibold text-sky-400",children:["#",a.displayId]}),e.jsxs("span",{className:"text-sm",children:[a.orderDate instanceof Date?a.orderDate.toLocaleDateString():"N/A",a.orderDate instanceof Date&&e.jsx("span",{className:"ml-1 text-gray-500",children:(Be=(Oe=a.orderDate).toLocaleTimeString)==null?void 0:Be.call(Oe,[],{hour:"2-digit",minute:"2-digit"})})]}),e.jsx(f,{className:`${a.status==="delivered"?"bg-green-500/20 text-green-400 border-green-500/30":a.status==="building"?"bg-blue-500/20 text-blue-400 border-blue-500/30":a.status==="pending"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":"bg-purple-500/20 text-purple-400 border-purple-500/30"}`,children:a.status})]})})]}),a&&e.jsxs("div",{className:"space-y-6 mt-4",children:[e.jsxs(m,{className:"bg-white/5 border-white/10 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Order Items"}),e.jsx("div",{className:"space-y-3",children:(Ue=a.items)==null?void 0:Ue.map((s,r)=>e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-white/10 last:border-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-white",children:s.name}),s.category&&e.jsx("p",{className:"text-sm text-gray-400",children:s.category})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-white font-semibold",children:["Â£",s.lineTotal.toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Â£",s.unitPrice.toFixed(2)," Ã— ",s.quantity]})]})]},r))})]}),e.jsxs(m,{className:"bg-white/5 border-white/10 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Order Summary"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Payment Method:"}),e.jsx("span",{className:"text-white capitalize",children:a.paymentMethod})]}),a.shippingMethod&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Shipping:"}),e.jsx("span",{className:"text-white capitalize",children:a.shippingMethod})]}),a.shippingCost!==void 0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Shipping Cost:"}),e.jsxs("span",{className:"text-white",children:["Â£",a.shippingCost.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between pt-3 border-t border-white/20",children:[e.jsx("span",{className:"text-lg font-semibold text-white",children:"Total:"}),e.jsxs("span",{className:"text-lg font-bold text-sky-400",children:["Â£",a.total.toFixed(2)]})]})]})]}),a.address&&e.jsxs(m,{className:"bg-white/5 border-white/10 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Shipping Address"}),e.jsxs("div",{className:"text-gray-300 space-y-1",children:[a.address.line1&&e.jsx("p",{children:a.address.line1}),a.address.line2&&e.jsx("p",{children:a.address.line2}),a.address.city&&e.jsx("p",{children:a.address.city}),a.address.postcode&&e.jsx("p",{children:a.address.postcode}),a.address.country&&e.jsx("p",{children:a.address.country})]})]}),(a.trackingNumber||a.courier)&&e.jsxs(m,{className:"bg-white/5 border-white/10 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Tracking Information"}),e.jsxs("div",{className:"space-y-2",children:[a.courier&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Courier:"}),e.jsx("span",{className:"text-white",children:a.courier})]}),a.trackingNumber&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Tracking Number:"}),e.jsx("span",{className:"text-white font-mono",children:a.trackingNumber})]})]})]}),a.buildUpdates&&a.buildUpdates.length>0&&e.jsxs(m,{className:"bg-white/5 border-white/10 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Build Progress"}),e.jsx("div",{className:"space-y-3",children:a.buildUpdates.map((s,r)=>e.jsxs("div",{className:"flex items-start gap-3 pb-3 border-b border-white/10 last:border-0",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx("div",{className:"w-2 h-2 rounded-full bg-sky-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-white",children:s.note}),s.timestamp&&e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:new Date(s.timestamp).toLocaleString()})]}),s.progress!==void 0&&e.jsxs(f,{className:"bg-sky-500/20 text-sky-400 border-sky-500/30",children:[s.progress,"%"]})]},r))})]})]})]})}),e.jsx(de,{open:ue,onOpenChange:F,children:e.jsxs(me,{className:"max-w-2xl bg-gray-900 border-white/10",children:[e.jsxs(xe,{children:[e.jsxs(he,{className:"text-2xl text-white flex items-center gap-2",children:[e.jsx(J,{className:"w-6 h-6 text-yellow-400 fill-yellow-400"}),"Leave a Review"]}),e.jsx(pe,{className:"text-gray-400",children:N&&e.jsxs("span",{children:["Share your experience with Order #",N.displayId]})})]}),N&&N.items&&N.items.length>0&&e.jsx(Os,{productId:`order-${N.displayId||N.id}`,productName:N.items.length===1?N.items[0].name:`${N.items.length} items from Order #${N.displayId}`,onSuccess:()=>{x.success("Thank you for your review! ðŸŒŸ"),F(!1),E(null)},onCancel:()=>{F(!1),E(null)}})]})})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs(m,{className:"bg-white/5 border-white/10 backdrop-blur-xl p-8 text-center max-w-md",children:[e.jsx(ms,{className:"w-16 h-16 mx-auto mb-4 text-yellow-400"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Please Log In"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"You need to be logged in to access the member area"}),e.jsx(o,{onClick:()=>n==null?void 0:n("home"),className:"bg-gradient-to-r from-sky-500 to-blue-600",children:"Go to Login"})]})})}export{Gs as default};
