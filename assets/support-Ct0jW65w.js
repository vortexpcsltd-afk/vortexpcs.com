const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-C09NoPC0.js","assets/three-DYdjUtCm.js","assets/contentful-6-L6ww-u.js","assets/firebase-D5dyMTPx.js","assets/index-BtsQyA5c.css"])))=>i.map(i=>d[i]);
import{_ as i}from"./three-DYdjUtCm.js";import"./contentful-6-L6ww-u.js";async function p(c){let n=null;try{const{auth:t}=await i(async()=>{const{auth:e}=await import("./index-C09NoPC0.js").then(r=>r.cq);return{auth:e}},__vite__mapDeps([0,1,2,3,4]));if(t!=null&&t.currentUser){const{getIdToken:e}=await i(async()=>{const{getIdToken:r}=await import("./firebase-D5dyMTPx.js").then(s=>s.A);return{getIdToken:r}},[]);n=await e(t.currentUser,!0)}}catch{}const a={"Content-Type":"application/json"};n&&(a.Authorization=`Bearer ${n}`);try{const{getCsrfToken:t,addCsrfTokenToHeaders:e}=await i(async()=>{const{getCsrfToken:s,addCsrfTokenToHeaders:T}=await import("./index-C09NoPC0.js").then(d=>d.cr);return{getCsrfToken:s,addCsrfTokenToHeaders:T}},__vite__mapDeps([0,1,2,3,4]));t()&&e(a)}catch{}const o=await fetch("/api/admin/support/reply",{method:"POST",headers:a,body:JSON.stringify(c)});if(!o.ok){const t=await o.json().catch(()=>({}));throw new Error((t==null?void 0:t.message)||(t==null?void 0:t.error)||`Ticket reply failed (${o.status})`)}return o.json()}export{p as replyToTicket};
